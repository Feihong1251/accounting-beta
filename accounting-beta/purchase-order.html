<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ใบสั่งซื้อ</title>
    <link rel="stylesheet" href="main.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>

<body>
    <div class="head-box"> <!--กล่องใหญ่-->
        <div id="sidemenuacc"></div> <!--กล่อง sidebar-->
        <div class="main-project"><!--กล่อง main-->
            <div class="navbar">
                <div style="width: 100%;height: 100%; padding: 24px;">
                    <div style=" width: 100%; height: 100%;display: flex;justify-content: space-between; ">
                        <div style="width: 530px; height: 40px; padding: 6.5px 0;">
                            <div class="nav-menu" style="width: 87%;">
                                <div style="background-color: #FFFFFF; display: flex;width: 310px; border-radius: 32px;height: 100%;display: flex;align-items: center;justify-content: center; gap: 8px;">
                                <div class="text-nav">หน้าหลัก</div>
                                <img src="picture/arrow-right-nav.png" style="width: 12px;height: 12px;">
                                <div class="text-nav">ซื้อ</div>
                                <img src="picture/arrow-right-nav.png" style="width: 12px;height: 12px;">
                                <div class="text-nav">ใบสั่งซื้อ</div>
                                <img src="picture/arrow-right-nav.png" style="width: 12px;height: 12px;">
                                <div class="text-nav">สร้างใบสั่งซื้อ</div>
                                </div>
                                <div style="width: 135px;display: flex;justify-content: center;align-items: center;">
                                    <div style="color: #FFFFFF; font-weight: 700; font-size: 14px;">PO-2025011300001</div>
                                </div>
                            </div>
                        </div>
                        <div style=" width: 30%; height: 100%; display: flex; justify-content: end; gap: 8px;">
                            <div class="nav-pic-right" id="btnnone"><img src="picture/load.png"  class="nav-pic"></div>
                            <!-- <div class="nav-pic-right"><img src="picture/upload.png"  class="nav-pic"></div>
                            <div class="nav-pic-right"><img src="picture/send.png"  class="nav-pic"></div> -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="head-work">
                <div class="work">
                    <div class="deposit-receipt-box">
                        <div class="deposit-receipt-head-box">
                            <div class="deposit-receipt-head-box-title" id="quotationTitle">ใบสั่งซื้อ</div>
                             <div class="deposit-receipt-head-box-title" id="historyTitle" style="display: none;"></div>
                            <div class="deposit-receipt-head-box-title"  id="approveTitle">อนุมัติใบสั่งซื้อ</div>
                            <div class="deposit-receipt-box-mini">
                                <div class="deposit-receipt-box-mini-in">
                                    <div class="deposit-receipt-box-mini-deposit">เลขที่ใบเสนอราคา</div>
                                    <div id="buyPurchaseOrderNoDisplay" class="deposit-receipt-box-mini-number">QT-202502190001</div>
                                </div>
                                <div class="deposit-receipt-box-mini-in-back">
                                    <div class="deposit-receipt-box-mini-deposit-in">มูลค่าสุทธิ (บาท)</div>
                                    <div class="deposit-receipt-box-mini-number-in">46,117.00</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="container">
                        <div class="tabs-2">
                            <input type="radio" id="radio-1" name="tabs" checked />
                            <label class="tab-2" for="radio-1">ข้อมูลเอกสาร<span></span></label>
                            <input type="radio" id="radio-2" name="tabs" />
                            <label class="tab-2" for="radio-2">ข้อมูลประวัติ</label>
                            <!-- <input type="radio" id="radio-3" name="tabs" />
                        <label class="tab" for="radio-3">ข้อมูลการชำระ</label> -->
                            <span class="glider-2"></span>
                        </div>
                        <!--ข้อมูลเอกสาร-->
                        <div id="pagepreview1" class="tab-content-new active">
                            <div class="head-second">
                                <div class="head-second-box">
                                    <div class="second-box-in">
                                        <div class="document-title">ข้อมูลผู้จำหน่าย</div>
                                        <div class="data-box">
                                            <div class="data-box-1">
                                                <div class="data-customer-box">
                                                    <div class="text-thin">ชื่อผู้จำหน่าย</div>
                                                    <div id="buyVendorNameDisplay" class="text-bold">ผู้จำหน่ายทดสอบ1</div>
                                                </div>
                                                <div class="address-customer-box">
                                                    <div class="text-thin">ที่อยู่ผู้จำหน่าย</div>
                                                    <div id="buyAddressDisplay" class="text-bold">90 อาคารซีดับเบิ้ลยู ทาวเวอร์ ชั้น 3 ห้อง 310
                                                        ถนนรัชดาภิเษก แขวงห้วยขวาง เขตห้วยขวาง กรุงเทพมหานคร 10310</div>
                                                </div>
                                                <div class="email-customer-box">
                                                    <div class="text-thin">อีเมล</div>
                                                    <div id="buyGmailDisplay" class="text-bold">Test_customer@test.co.th</div>
                                                </div>
                                                <div class="office-customer-box">
                                                <div class="text-thin">สำนักงาน / สาขา</div>
                                                <div class="office-customer-two-box">
                                                <div class="text-bold">สาขาย่อย:</div>
                                                 <div id="buyBranchCodeDisplay" class="text-bold">nt1234</div>
                                                <div id="buyBranchNameDisplay" class="text-bold">สาขาทดสอบ1</div>
                                                </div>
                                            </div>
                                            </div>
                                            <div class="cover-data-box-2-3">
                                                <div class="data-box-2">
                                                    <div class="password-customer-box">
                                                        <div class="text-thin">รหัสผู้จำหน่าย</div>
                                                        <div id="buyNumberDisplay" class="text-bold">BB-0000000000</div>
                                                    </div>
                                                    <div class="address-office-box">
                                                        <div class="text-thin">ที่ตั้งธุรกิจ</div>
                                                        <div id="buyLocationDisplay" class="text-bold">ไทย</div>
                                                    </div>
                                                    <div class="refer-data-box">
                                                        <div class="text-thin">อ้างอิง</div>
                                                        <div id="buyReferDisplay" class="text-bold">ส่งของทันที</div>
                                                    </div>
                                                </div>
                                                <div class="data-box-3">
                                                    <div class="phone-number-box">
                                                        <div class="text-thin">เบอร์โทร</div>
                                                        <div id="buyPhoneDisplay" class="text-bold">02-1234-0000</div>
                                                    </div>
                                                    <div class="contact-customer">
                                                        <div class="text-thin">ชื่อผู้ติดต่อ</div>
                                                        <div id="buyContactNameDisplay" class="text-bold">ผู้ติดต่อทดสอบ1</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="right-box-data-purchase-order">
                                        <div class="document-title">ข้อมูลเอกสาร</div>
                                        <div class="status-box-in">
                                            <div class="status-box-inbox">
                                                <div class="text-thin">แผนก</div>
                                                <div id="buyDepartmentDisplay" class="text-bold">UXUI Designer</div>
                                            </div>
                                        </div>
                                        <div class="status-box-in">
                                            <div class="status-box-inbox">
                                                <div class="text-thin">วันที่</div>
                                                <div id="buyDayDisplay" class="text-bold">13/01/2025</div>
                                            </div>
                                            <div class="status-box-inbox">
                                                <div class="text-thin">เครดิต(วัน)</div>
                                                <div id="buyCreditDateDisplay" class="text-bold">14</div>
                                            </div>
                                        </div>
                                        <div class="status-box-in">
                                            <div class="status-box-inbox">
                                                <div class="text-thin">รับของวันที่</div>
                                                <div id="buyReceivedDateDisplay" class="text-bold">27/01/2025</div>
                                            </div>
                                            <div class="status-box-inbox">
                                                <div class="text-thin">ขนส่งโดย</div>
                                                <div id="buyTransportationDisplay" class="text-bold">ไปรษณีย์ไทย</div>
                                            </div>
                                        </div>
                                        <div class="status-box-in-last">
                                            <div class="status-box-inbox">
                                                <div class="text-thin">ข้อมูลราคาและภาษี</div>
                                                <div id="buyPriceexcludingtaxDisplay" class="text-bold">รวมภาษี</div>
                                            </div>
                                            <div class="status-box-inbox">
                                                <div class="text-thin">สกุลเงิน</div>
                                                <div id="buyCurrencyDisplay" class="text-bold">THB - บาท</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="head-four">
                                <div class="list-bar-box">
                                    <div class="list-bar-title">
                                        รายการ
                                    </div>
                                    <div class="list-bar-text">
                                        บริการ
                                    </div>
                                    <div class="list-bar-box-in">
                                        <div class="list-bar-data-box">
                                            <div class="list-bar-number">
                                                <div class="order-list-box">
                                                    <div class="data5-table">
                                                        <table class="data-table-preview">
                                                            <thead>
                                                                <tr>
                                                                    <th>ลำดับ</th>
                                                                    <th>รหัส</th>
                                                                    <th>ชื่อรายการ</th>
                                                                    <th>รายละเอียด</th>
                                                                    <th>จำนวน</th>
                                                                    <th>หน่วย</th>
                                                                    <th>ราคา/หน่วย</th>
                                                                    <th>ส่วนลด</th>
                                                                    <th>ราคารวม</th>
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr class="data-row">
                                                                    <td id="outputValue"></td>
                                                                    <td id="outputshowCode"></td>
                                                                    <td id="outputStorage"></td>
                                                                    <td id="outputtabledetail"></td>
                                                                    <td id="outputtablequantity"></td>
                                                                    <td id="outputtableunit"></td>
                                                                    <td id="outputtableUnitprice"></td>
                                                                    <td id="outputtablediscount"></td>
                                                                    <td>43,100.00</td>
                                                                    <td>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <!-- <div class="pagination">
                                        <span class="page-info">1 of 5 pages</span>
                                        <a class="active" href="#">1</a>
                                        <a href="#">2</a>
                                        <a href="#">3</a>
                                        <span class="dots">...</span>
                                        <a href="#">5</a>
                                        <a href="#" class="next"><img
                                                src="picture/subtract-1--button-delete-buttons-subtract-horizontal-remove-line-add-mathematics-math-minus.png"></a>
                                                </div> -->
                                                    <div class="amount-money-box-kk">
                                                        <div class="amount-money-box">
                                                            <div class="amount-box-in-one">
                                                                <div class="box-in-amount">
                                                                    <div class="tilte-sarup">สรุปมูลค่าสุทธิ</div>
                                                                </div>
                                                                <div class="amount-box-in-text-number">
                                                                    <div class="amount-box-in-text">จำนวนเงิน
                                                                    </div>
                                                                    <div class="amount-money-box-in-number-box">
                                                                        <div class="amount-money-box-in-number">
                                                                            20,000.00</div>
                                                                        <div class="amount-money-box-in-number-bart">บาท
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="amount-box-in-text-number">
                                                                    <div class="amount-box-in-text">หักส่วนลด
                                                                    </div>
                                                                    <div class="amount-money-box-in-number-box">
                                                                        <div class="amount-money-box-in-number">
                                                                            100.00</div>
                                                                        <div class="amount-money-box-in-number-bart">บาท
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="amount-box-in-text-number">
                                                                    <div class="amount-box-in-text">ยอดหลังหักส่วนลด
                                                                    </div>
                                                                    <div class="amount-money-box-in-number-box">
                                                                        <div class="amount-money-box-in-number">
                                                                            43,100.00</div>
                                                                        <div class="amount-money-box-in-number-bart">บาท
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="amount-money-box-in-tax-seven">
                                                                    <div class="checkbox-box-disableb">
                                                                        <div class="checkbox-box-1-force-seven">
                                                                            <input type="checkbox" name="visits"
                                                                                id="list-tax"
                                                                                class="checkbox-input-disableb" checked
                                                                                disabled>
                                                                            <label for="list-tax"></label>
                                                                        </div>
                                                                        <div class="seven-percent-box">
                                                                            <div class="checkbox-box-1-text-seven">
                                                                                รายการภาษี
                                                                            </div>
                                                                            <div class="seven-percent"> 7%</div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="amount-money-box-in-tax-number-box">
                                                                        <div class="amount-money-box-in-tax-number">
                                                                            3,017.00
                                                                        </div>
                                                                        <div
                                                                            class="amount-money-box-in-tax-number-bart">
                                                                            บาท
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="amount-money-box-in-tax-seven">
                                                                    <div class="checkbox-box-disableb">
                                                                        <div class="checkbox-box-1-force-seven">
                                                                            <input type="checkbox" name="visits"
                                                                                id="list-tax"
                                                                                class="checkbox-input-disableb"
                                                                                disabled>
                                                                            <label for="list-tax"></label>
                                                                        </div>
                                                                        <div class="seven-percent-box">
                                                                            <div class="checkbox-box-1-text-seven">
                                                                                ภาษีหัก ณ ที่จ่าย
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="sell-all-box">
                                                                <div class="sell-all-box-in-text-number">
                                                                    <div class="sell-all-box-in-text">
                                                                        จำนวนเงินรวมทั้งสิ้น</div>
                                                                    <div class="sell-all-box-in-box">
                                                                        <div class="sell-all-box-in-number">
                                                                            46,117.00</div>
                                                                        <div class="sell-all-box-in-number-bart">บาท
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="cover-signature">
                                <div class="signature-eltc-box">
                                    <div class="signature-eltc-box-in-one">
                                        <div class="checkbox-box-1">
                                            <input type="checkbox" name="visits" id="list-tax-1"
                                                class="checkbox-input-1" disabled>
                                            <label for="list-tax-1"></label>
                                            <div class="checkbox-box-1-text">
                                                ลายเซ็นต์อิเล็กทรอนิกและตารายาง
                                            </div>
                                        </div>
                                        <div class=" footnote-box">
                                            <div class="footnote-text-title">หมายเหตุ</div>
                                            <div class="footnote-text" id="buyNotelistDisplay">ฟรีค่าจัดส่ง พร้อมอุปกรณ์ติดตั้ง</div>
                                        </div>
                                    </div>
                                    <div class="signature-eltc-box-in-two">
                                        <div class="signature-eltc-box-in-two-in">
                                            <div class="signature-eltc-text-title">ผู้จัดทำ</div>
                                            <div class="signature-eltc-text">ธิติรัตน์ สตาปรณ์ศิริ</div>
                                        </div>
                                        <div class="checkbox-container">
                                            <div class="checkbox-item">
                                                <input type="checkbox" name="visits" id="not-show-name"
                                                    class="my-checkbox-input">
                                                <label for="not-show-name">ไม่แสดงชื่อผู้จัดทำ</label>
                                            </div>
                                            <div class="checkbox-item">
                                                <input type="checkbox" name="signature" id="signature-option"
                                                    class="my-checkbox-input" checked>
                                                <label for="signature-option">ลายเซ็นต์อิเล็กทรอนิก</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="attach-file">
                                    <div class="attach-file-text-title">แนบไฟล์</div>
                                    <div class="attach-file-box">
                                        <div class="attach-file-box-pdf">
                                            <div class="attach-file-box-pdf-img">
                                                <img src="picture/file-pdf-fill.png" alt="PDF" />
                                            </div>
                                            <div class="document-pdf">document1</div>
                                            <div class="mb-pdf">(32 MB)</div>
                                        </div>
                                        <div class="attach-file-box-word">
                                            <div class="attach-file-box-word-img">
                                                <img src="picture/file-word-fill.png" alt="word" />
                                            </div>
                                            <div class="document-word">document2</div>
                                            <div class="mb-word">(10 MB)</div>
                                        </div>
                                        <div class="attach-file-box-image">
                                            <div class="attach-file-box-image-img">
                                                <img src="picture/file-image-fill.png" alt="image" />
                                            </div>
                                            <div class="document-image">document3</div>
                                            <div class="mb-image">(24 MB)</div>
                                        </div>
                                        <div class="attach-file-box-subtract">
                                            <div class="attach-file-box-subtract-img">
                                                <img src="picture/xfile.png" alt="subtract" />
                                            </div>
                                            <div class="document-subtract">document4</div>
                                            <div class="mb-subtract">(39 MB)</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tree-button">
                                <!-- กล่องใหญ่ของ3ปุ่ม  ถ้ากดอนุมัติจะขึ้นแค่ปุ่มกลับไปหน้าหลักแล้วเปลี่ยนหัวข้อ-->
                                <div class="cover-box-home-edit-approve">
                                    <div class="Homepage-button" id="btnHome"  onclick="setCancelState()"> <!-- กล่องกลับไปหน้าหลัก -->
                                        <a href="purchase-order-table.html"
                                            class="word-Homepage-button">กลับไปหน้าหลัก</a>
                                    </div>
                                    <div class="edit-button" id="btnEdit"> <!-- กล่องแก้ไข -->
                                        <a href="create-purchase-order.html"><div class="word-edit-button">แก้ไข</div></a>
                                    </div>
                                    <div class="approve-button" id="btnApprove"> <!-- กล่องอนุมัติ -->
                                        <a href="#" class="word-appvrove-button">อนุมัติ</a>
                                    </div>
                                    <div class="Homepage-button"  id="goBack" style="display:none;"> <!-- กล่องกลับไปหน้าหลัก -->
                                    <a href="#"  class="word-Homepage-button">กลับไปหน้าหลัก</a>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--ข้อมูลเอกสาร-->
                    <!--ข้อมูลประวัติ-->
                    <div id="pagepreview2" class="tab-content-new">
                        <div class="page-three-box">
                            <div class="page-three-box-in">
                                <ul class="timeline">
                                    <li>
                                        <div class="timestamp">
                                            <div class="text-date">27/01/25</div>
                                            <div class="text-time">16:09:12</div>
                                        </div>
                                        <div class="dot-line">
                                            <div class="dot active"></div>
                                            <div class="line"></div>
                                        </div>
                                        <div class="content">
                                            <div class="user-box-in">
                                                <div class="user-title">User test 02</div>
                                                <div class="save-test">อนุมัติใบรับเงินมัดจำ</div>
                                            </div>
                                            <div class="day-box">
                                                <div class="note-text">หมายเหตุ: รอเอกสารเพิ่มเติมจากลูกค้า</div>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="timestamp">
                                            <div class="text-date">17/01/25</div>
                                            <div class="text-time">11:09:14</div>
                                        </div>
                                        <div class="dot-line">
                                            <div class="dot"></div>
                                            <div class="line"></div>
                                        </div>
                                        <div class="content">
                                            <div class="user-box-in">
                                                <div class="user-title">User test 01</div>
                                                <div class="save-test">บันทึกใบเสนอราคา</div>
                                            </div>
                                            <!-- <div class="day-box">
                                            <div class="note-text">หมายเหตุ: รอเอกสารเพิ่มเติมจากลูกค้า</div>
                                        </div> -->
                                        </div>
                                    </li>
                                    <li>
                                        <div class="timestamp">
                                            <div class="text-date">12/01/25</div>
                                            <div class="text-time">10:12:34</div>
                                        </div>
                                        <div class="dot-line">
                                            <div class="dot"></div>
                                            <div class="line"></div>
                                        </div>
                                        <div class="content">
                                            <div class="user-box-in">
                                                <div class="user-title">User test 01</div>
                                                <div class="save-test">ดูเอกสาร</div>
                                            </div>
                                            <div class="day-box">
                                                <div class="note-text">หมายเหตุ: รอเอกสารเพิ่มเติมจากลูกค้า</div>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="timestamp">
                                            <div class="text-date">02/01/25</div>
                                            <div class="text-time">10:45:34</div>
                                        </div>
                                        <div class="dot-line">
                                            <div class="dot"></div>
                                        </div>
                                        <div class="content">
                                            <div class="user-box-in">
                                                <div class="user-title">User test 01</div>
                                                <div class="save-test">เริ่มสร้างใบเสนอราคา</div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!--ข้อมูลประวัติ-->
                    <!-- ข้อมูลการหักเงินมัดจำ-->
                </div>
            </div>
        </div>
    </div>
    <script src="sidebarmain.js"></script>
    <script>
//---------กดกลับไปหน้าตาราง----------
function setCancelState() {
    localStorage.setItem('hasData', 'false');
}
//---------จบกดกลับไปหน้าตาราง---------
 $(document).ready(function () {
    let isApproved = false;
//------ส่วนกดทั้งแถวจากหน้าตาราง-------
        $(document).ready(function () {
        // อ่านค่า query string เช่น ?from=table
        const urlParams = new URLSearchParams(window.location.search);
        const from = urlParams.get('from');
        if (from === 'table') {
            // แสดง approveTitle และซ่อน quotationTitle
            $('#approveTitle').show();
            $('#quotationTitle').hide();
            // แสดง goBack
            $('#goBack').show();
            // ซ่อนปุ่มอื่น ๆ
            $('#btnApprove, #btnEdit, #btnHome').hide();
        }
        });
//-----จบส่วนกดทั้งแถวจากหน้าตาราง-------
//---------นำข้อมูลจากอีกไฟล์มาใส่ในตาราง-------------------------------------------
    const savedValue = localStorage.getItem("savedValue");
    const savedStorage = localStorage.getItem("savedStorage");
    const savedtabledetail = localStorage.getItem("savedtabledetail");
    const savedtablequantity = localStorage.getItem("savedtablequantity");
    const savedtableunit = localStorage.getItem("savedtableunit");
    const savedtableUnitprice = localStorage.getItem("savedtableUnitprice");
    const savedtablediscount = localStorage.getItem("savedtablediscount");
    const savedshowCode = localStorage.getItem("savedshowCode");

    // แสดงค่าที่ตาราง
    if (savedValue) {
        document.getElementById("outputValue").innerText = savedValue;
    }
    if (savedStorage) {
        document.getElementById("outputStorage").innerText = savedStorage;
    }
    if (savedtabledetail) {
        document.getElementById("outputtabledetail").innerText = savedtabledetail;
    }
    if (savedtablequantity) {
    document.getElementById("outputtablequantity").innerText = savedtablequantity;
    }
    if (savedtableunit) {
    document.getElementById("outputtableunit").innerText = savedtableunit;
    }
    if (savedtableUnitprice) {
    document.getElementById("outputtableUnitprice").innerText = savedtableUnitprice;
    }
    if (savedtablediscount) {
    document.getElementById("outputtablediscount").innerText = savedtablediscount;
    }
    if (savedshowCode) {
    document.getElementById("outputshowCode").innerText = savedshowCode;
    }
//---------นำข้อมูลจากอีกไฟล์มาใส่ในตาราง-------------------------------------------
    // ------------------------------
    // ส่วน Tab content
    // ------------------------------
    const $tabRadios = $('input[name="tabs"]');
    const $tabContents = $('.tab-content-new');

    const displaySelectedTabContent = () => {
        const selectedRadioId = $tabRadios.filter(':checked').attr('id');
        const tabNumber = selectedRadioId.split('-')[1];
        const tabIdMap = {
            '1': 'pagepreview1',
            '2': 'pagepreview2'
        };
        $tabContents.removeClass('active');
        $(`#${tabIdMap[tabNumber]}`).addClass('active');
    };

    $tabRadios.on('change', displaySelectedTabContent);
    displaySelectedTabContent();

    // ------------------------------
    // ส่วนหัวข้อ
    // ------------------------------
    $('#quotationTitle').show();
    $('#approveTitle').hide();
    $('#historyTitle').hide();

    $('#radio-1').on('click', function () {
        if (isApproved) {
            $('#quotationTitle').hide();
            $('#historyTitle').hide();
            $('#approveTitle').show();
        } else {
            $('#quotationTitle').show();
            $('#historyTitle').hide();
            $('#approveTitle').hide();
        }
    });

    $('#radio-2').on('click', function () {
        $('#quotationTitle').hide();
        $('#approveTitle').hide();
        $('#historyTitle').text('ประวัติการใช้งานใบเสนอราคา').show();
    });

    $('#btnApprove').on('click', function () {
        isApproved = true;
        $('#quotationTitle').hide();
        $('#historyTitle').hide();
        $('#approveTitle').show();
    });
});

        let currentPage = 1;
        let totalPages = 5;
        function createPagination(current, total) {
            const pagination = $('.pagination');
            pagination.empty();
            const pageInfo = `<span class="page-info">${current} of ${total} pages</span>`;
            pagination.append(pageInfo);
            let pages = [];
            if (current <= 2) {
                pages = [1, 2, 3, '...', 5];
            } else if (current >= 4) {
                pages = [1, '...', 3, 4, 5];
            } else {
                pages = [1, 2, 3, 4, 5];
            }
            pages.forEach(page => {
                if (page === '...') {
                    const dots = '<span class="dots">...</span>';
                    pagination.append(dots);
                } else {
                    const activeClass = page === current ? ' class="active"' : '';
                    const link = `<a href="#"${activeClass}>${page}</a>`;
                    pagination.append(link);
                }
            });
            const nextBtn = '<a href="#" class="next"><img src="picture/subtract-1--button-delete-buttons-subtract-horizontal-remove-line-add-mathematics-math-minus.png"></a>';
            pagination.append(nextBtn);
        }
        function changePage(page) {
            currentPage = page;
            createPagination(currentPage, totalPages);
        }
        $(document).ready(function () {
            $('.pagination').on('click', 'a:not(.next)', function (e) {
                e.preventDefault();
                const pageNum = parseInt($(this).text());
                if (pageNum && pageNum !== currentPage) {
                    changePage(pageNum);
                }
            });
            $('.pagination').on('click', '.next', function (e) {
                e.preventDefault();
                if (currentPage < totalPages) {
                    changePage(currentPage + 1);
                }
            });
            createPagination(currentPage, totalPages);
        });
        $(document).ready(function () {
            $('#tableBody .data-row:gt(4)').hide();
        });
        //อันนี้จะติ้กได้แค่หน้าก่อนอนุมัติ
        $(document).ready(function () {
    function updateSignatureBox() {
        const showSignature = $('#signature-option').is(':checked');
        const showMaker = $('#not-show-name').is(':checked');
        if (showMaker) {
            $('#signature-maker-box').hide();
        } else if (showSignature) {
            $('#signature-maker-box').show();
        } else {
            $('#signature-maker-box').hide();
        }
    }
    // ให้ติ้ก "ไม่แสดงชื่อผู้จัดทำ" เป็นค่าเริ่มต้น
    $('#not-show-name').prop('checked', true);
    $('#signature-option').prop('checked', false);
    updateSignatureBox();

    // ถ้าติ้กอันใดอันนึง อีกอันจะเอาติ้กออก
    $('#not-show-name').on('change', function () {
        if ($(this).is(':checked')) {
            $('#signature-option').prop('checked', false);
        }
        updateSignatureBox();
    });
    $('#signature-option').on('change', function () {
        if ($(this).is(':checked')) {
            $('#not-show-name').prop('checked', false);
        }
        updateSignatureBox();
    });
});
$(document).ready(function() {
    // ซ่อนปุ่ม goBack ตอนโหลดหน้า
    $('#goBack').hide();

    // เมื่อกดปุ่ม อนุมัติ
    $('#btnApprove a').click(function(e) {
        e.preventDefault(); // กันลิงก์ไปหน้าจริง (ถ้าต้องการเปลี่ยนลิงก์แทน ให้แก้ที่นี่)

        // ซ่อน 3 ปุ่มบน
        $('#btnHome, #btnEdit, #btnApprove').hide();

        // แสดงปุ่ม goBack
        $('#goBack').show();
    });
});
$(document).ready(function() {
  // ซ่อนข้อความ "อนุมัติใบเสนอราคา" ตอนโหลดหน้า
  $('#approveTitle').hide();

  // เมื่อกดปุ่ม btnApprove
  $('#btnApprove').click(function() {
    $('#quotationTitle').hide();   // ซ่อน "ใบเสนอราคา"
    $('#approveTitle').show();     // แสดง "อนุมัติใบเสนอราคา"
  });
});
    //
    $('#goBack').click(function () {
      localStorage.setItem('hasData', 'true'); // ตั้งให้แสดงข้อมูลเมื่อย้อนกลับ
      window.location.href = 'purchase-order-table.html'; // กลับไปหน้าแรก
    });

$(document).ready(function () {
    const buyVendorName = localStorage.getItem('buyVendorName') || '';
    $('#buyVendorNameDisplay').text(buyVendorName);

    const buyNumber = localStorage.getItem('buyNumber') || '';
    $('#buyNumberDisplay').text(buyNumber);

    const buyPhone = localStorage.getItem('buyPhone') || '';
    $('#buyPhoneDisplay').text(buyPhone);

    const buyAddress = localStorage.getItem('buyAddress') || '';
    $('#buyAddressDisplay').text(buyAddress);

    const buyLocation = localStorage.getItem('buyLocation') || '';
    $('#buyLocationDisplay').text(buyLocation);

    const buyContactName = localStorage.getItem('buyContactName') || '';
    $('#buyContactNameDisplay').text(buyContactName);

    const buyGmail = localStorage.getItem('buyGmail') || '';
    $('#buyGmailDisplay').text( buyGmail);

    const buyRefer = localStorage.getItem('buyRefer') || '';
    $('#buyReferDisplay').text(buyRefer);

    const buyBranchCode = localStorage.getItem('buyBranchCode') || '';
    $('#buyBranchCodeDisplay').text(buyBranchCode);

    const buyBranchName = localStorage.getItem('buyBranchName') || '';
    $('#buyBranchNameDisplay').text(buyBranchName);

    const buyDepartment = localStorage.getItem('buyDepartment') || '';
    $('#buyDepartmentDisplay').text(buyDepartment);

    const buyDay = localStorage.getItem('buyDay') || '13/01/2025';
    $('#buyDayDisplay').text(buyDay);
    const buyDayRaw = localStorage.getItem('buyDay') || '2025-01-13'; // ควรเก็บในรูปแบบ YYYY-MM-DD
    function formatDateToDDMMYYYY(dateStr) {// ฟังก์ชันแปลงรูปแบบวันที่
        if (!dateStr || !dateStr.includes('-')) return dateStr;
        const [year, month, day] = dateStr.split('-');
        return `${day}/${month}/${year}`;
    }
    const formattedBuyDay = formatDateToDDMMYYYY(buyDayRaw); // แปลงวันและแสดงผล
    $('#buyDayDisplay').text(formattedBuyDay);

    const buyCreditDate = localStorage.getItem('buyCreditDate') || '';
    $('#buyCreditDateDisplay').text(buyCreditDate);

    
    const buyNotelist = localStorage.getItem('buyNotelist') || '';
    $('#buyNotelistDisplay').text(buyNotelist);
    });
// ดึงค่าจาก localStorage (ควรเก็บเป็น YYYY-MM-DD)
    const rawDate = localStorage.getItem('buyReceivedDate') || '2025-01-13';
    // ฟังก์ชันแปลงวันที่
    function formatDateToDDMMYYYY(dateStr) {
        if (!dateStr || !dateStr.includes('-')) return dateStr;
        const [year, month, day] = dateStr.split('-');
        return `${day}/${month}/${year}`;
    }
    // แปลงและแสดงผล
    const formattedDate = formatDateToDDMMYYYY(rawDate);
    $('#buyReceivedDateDisplay').text(formattedDate);

    const buyTransportation = localStorage.getItem('buyTransportation') || '';
    $('#buyTransportationDisplay').text(buyTransportation);

    const buyPriceexcludingtax = localStorage.getItem('buyPriceexcludingtax') || '';
    $('#buyPriceexcludingtaxDisplay').text(buyPriceexcludingtax);

    const buyCurrency = localStorage.getItem('buyCurrency') || '';
    $('#buyCurrencyDisplay').text(buyCurrency);

    const buyPurchaseOrderNo = localStorage.getItem('buyPurchaseOrderNo') || '';
    $('#buyPurchaseOrderNoDisplay').text(buyPurchaseOrderNo);


    </script>
</body>

</html>