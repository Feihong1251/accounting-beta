<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ใบขายเชื่อ</title>
    <link rel="stylesheet" href="main.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
    <div class="head-box"> <!--กล่องใหญ่-->
        <div id="sidemenuacc"></div>
        <div class="main-project"><!--กล่อง main-->
            <div class="navbar">
                <div style="width: 100%;height: 100%; padding: 24px;">
                    <div style=" width: 100%; height: 100%;display: flex;justify-content: space-between; ">
                        <div style="width: 361px; height: 40px; padding: 6.5px 0;">
                            <div class="nav-menu">
                                <div style="background-color: #FFFFFF; display: flex;width: 226px; border-radius: 32px;height: 100%;display: flex;align-items: center;justify-content: center; gap: 8px;">
                                <div class="text-nav">หน้าหลัก</div>
                                <img src="picture/arrow-right-nav.png" style="width: 12px;height: 12px;">
                                <div class="text-nav">ขาย</div>
                                <img src="picture/arrow-right-nav.png" style="width: 12px;height: 12px;">
                                <div class="text-nav">ใบขายเชื่อ</div>
                                </div>
                                <div style="width: 135px;display: flex;justify-content: center;align-items: center;">
                                 <div style="color: #FFFFFF; font-weight: 700; font-size: 14px;">สร้างใบขายเชื่อ</div>
                                </div>
                            </div>
                        </div>
                        <div style=" width: 30%; height: 100%; display: flex; justify-content: end; gap: 8px;">
                            <div class="nav-pic-right"><img src="picture/load.png"  class="nav-pic"></div>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div class="head-work">
                <div class="work">
                    <!-- khaow -->
                    <div class="information"> <!--กล่องใหญ่กรอกข้อมูล-->
                        <div class="navbar-information"><!--กร่องบาร์กรอกข้อมูล-->
                            <div class="deposit-receipt">สร้างใบขายเชื่อ</div> <!--กล่องใบเงินมัดจำ-->
                            <div class="deposit-number"> <!--กล่องเลขมัดจำ-->
                                <div class="word-deposit-number">เลขที่ใบขายเชื่อ</div><!--กล่องเลขใบรับเงิน -->
                                <div class="number-input-deposit"><!--กล่องครุมเลข ต้องเปลี่ยน -->
                                <input type="text" class="word-input-deposit" id="customerDepositReceiptNumber" placeholder="IV-202501130001">   <!--  <div class="word-input-deposit">AI-202501130001</div>ข้อความกล่องเลข -->
                                </div>
                            </div>
                        </div><!--กร่องบาร์กรอกข้อมูล-->
                        <div class="Customer-information-and-documents"> <!--กล่องข้อมูลลูกค้าและเอกสาร-->
                            <div class="Customer-information"> <!--กล่องข้อมูลลูกค้า-->
                                <div class="bar-Customer-information"> <!--บาร์ข้อมูลลูกค้า-->
                                    <div class="word-bar-Customer-information">ข้อมูลลูกค้า</div> <!--ข้อความในบาร์-->
                                </div>
                                <div class="Customer-name-and-code"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                    <div class="Customer-name"> <!--กล่องลูกค้า-->
                                        <div class="text-label">ชื่อลูกค้า</div><!--กล่องข้อความลูกค้า-->
                                        <input class="input-customer" id="customerName" type="text" 
                                            placeholder="ชื่อลูกค้า"><!--กล่อง input ความลูกค้า-->
                                    </div>
                                    <div class="Customer-code"><!--กล่องรหัสลูกค้า-->
                                        <div class="text-label">รหัสลูกค้า</div><!--กล่องข้อรหัสลูกค้า-->
                                        <input class="input-customer" id="customerCode" type="text"
                                            placeholder="รหัสลูกค้า"><!--กล่องinputข้อรหัสลูกค้า-->
                                    </div>
                                </div>
                                <div class="supplier-info"><!--กล่องใหญ่ที่อยู่ผู้จำหน่าย-->
                                    <div class="supplier-address"><!--กล่องที่อยู่ผู้จำหน่าย-->
                                        <div class="text-label4">ที่อยู่ผู้จำหน่าย</div>
                                        <!--กล่องข้อความ ที่อยู่ผู้จำหน่าย-->
                                        <textarea class="input-field1" id="customerAddress"
                                            placeholder="ที่อยู่ผู้จำหน่าย"></textarea><!--กล่องinputข้อความ-->
                                    </div>
                                    <div class="supplier-contact"><!--กล่องใหญ่ที่เบอร์โทรกับที่ตั้งธุรกิจ-->
                                        <div class="box-text-label">
                                            <div class="text-label5">เบอร์โทร</div><!--กล่องข้อความเบอร์โทร-->
                                            <input class="input-field" type="text" id="customerPhone"
                                                placeholder="เบอร์โทร"><!--กล่องinput-->
                                        </div>
                                        <div class="box-text-label1">
                                            <div class="text-label5">ที่ตั้งธุรกิจ</div><!--กล่องข้อที่ตั้งธุรกิจ-->
                                            <input class="input-field" type="text" id="customerHeadOffice"
                                                placeholder="ที่ตั้งธุรกิจ"><!--กล่องinput-->
                                        </div>
                                    </div>
                                </div>
                                <div class="Customer-gmai-and-namecall"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                    <div class="Customer-name"> <!--กล่องลูกค้า-->
                                        <div class="text-label">อีเมล</div><!--กล่องข้อความลูกค้า-->
                                        <input class="input-customer" type="text"  id="customerGmail"
                                            placeholder="อีเมล"><!--กล่อง input ความลูกค้า-->
                                    </div>
                                    <div class="Customer-code"><!--กล่องรหัสลูกค้า-->
                                        <div class="text-label">ชื่อที่อยู่ผู้ติดต่อ</div><!--กล่องข้อรหัสลูกค้า-->
                                        <input class="input-customer" type="text" id="customerContactName"
                                            placeholder="ชื่อที่อยู่ผู้ติดต่อ"><!--กล่องinputข้อรหัสลูกค้า-->
                                    </div>
                                </div>
                                <div class="refer">
                                    <div class="title"><b> อ้างอิงลูกค้า</b></div>
                                    <div style="width: 100%;">
                                        <input class="refer-input" type="text" placeholder="อ้างอิง" id="customerRefer">
                                    </div>
                                </div>
                                <div class="office">
                                    <div class="head-office"><b>สำนักงาน/สาขา <span class="moonflower-red">*</span></b>
                                    </div>
                                    <!--กล่องของ สำนักงาน-->
                                    <div class="button-input">
                                        <!--ปุ่มradio-->
                                        <div class="office-label">
                                            <div class="office-option-big">
                                                <label class="custom-radio">
                                                    <input type="radio" id="big-office" name="fav_language"
                                                        value="สำนักงานใหญ่" checked>
                                                    <span class="radio-btn"></span>
                                                    <div class="word-big-office">สำนักงานใหญ่</div>
                                                </label>
                                            </div>
                                            <div class="office-option-small">
                                                <label class="custom-radio">
                                                    <input type="radio" id="small-office" name="fav_language"
                                                        value="สาขาย่อย">
                                                    <span class="radio-btn"></span>
                                                    <div class="word-small-office">สาขาย่อย</div>
                                                </label>
                                            </div>
                                        </div>
                                        <!--ปุ่มradio-->
                                        <!-- Input fields -->
                                        <div class="office-input">
                                            <input type="text" class="input-office" id="customerBranchCode" placeholder="รหัสสาขา">
                                            <input type="text" class="input-office branch-name" id="customerBranchName"  placeholder="ชื่อสาขา">
                                        </div>
                                        <!-- Input fields -->
                                    </div>
                                    <!--กล่องของ สำนักงาน-->
                                </div>
                            </div>
                            <div class="documents-information">
                                <div class="bar-documents-information"> 
                                    <div class="word-bar-Customer-information">ข้อมูลเอกสาร</div> 
                                </div>
                                <!-- <div class="bar-documents-information"> บาร์ข้อมูลลูกค้า -->
                                    <!-- <div class="word-bar-documents-information">ข้อมูลเอกสาร</div> ข้อความในบาร์ -->
                                <!-- </div> -->
                                <div class="head-select-refer">
                                    <div class="box-select-refe-slip">
                                        <div class="word-select-refer">อ้างอิงใบสั่งขาย</div>
                                        <div class="input-upload">
                                            <div class="input-select-refer"><input type="text" class="input-credit"
                                                    placeholder="ใบสั่งขาย"></div>
                                            <div class="openPopupBtnsalesorder"> 
                                            <div class="select-refer-modal">เลือกใบอ้างอิง</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="credit-day">
                                    <div class="box-credit">
                                        <div class="word-credit">เครดิตจากประวัติชำระเงินของ</div>
                                        <input class="input-credit" type="text" id="customerCredithistory" placeholder="บริษัท ตัวอย่าง จำจัด">
                                    </div>
                                    <div class="box-day">
                                        <div class="word-credit">เครดิต(วัน)</div>
                                        <div class="box-input-credit"><input class="input-credit-new" id="customerDueDate" type="number" placeholder="2"></div>
                                    </div>
                                </div>
                                <div class="data-dat">
                                    <div class="boxdata-day-item">
                                        <div class="word-department">วันที่</div>
                                        <input type="date" class="input-data-day" id="customerDay">
                                    </div>
                                    <div class="boxdata-Due-item">
                                        <div class="word-department">ครบกำหนด</div>
                                        <input type="date" class="input-data-day"  id="customerPayment">
                                    </div>
                                </div>
                                <div class="twain-day">
                                    <div class="head-day">
                                        <div class="word-department">แผนก</div>
                                        <select name="myDropdown" id="customerDepartment" class="dropdown">
                                            <option value="">แผนก</option>
                                            <option value="แผนกบัญชี">แผนกบัญชี</option>
                                            <option value="แผนกฝ่ายบุคคล">แผนกฝ่ายบุคคล</option>
                                            <option value="แผนก IT">แผนก IT</option>
                                        </select>
                                    </div>
                                    <div class="head-day">
                                        <div class="word-department"  >พนักงานขาย</div>
                                        <select name="myDropdown" id="customerEmployee" class="dropdown">
                                            <option value="">พนักงานขาย</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="twain-day">
                                    <div class="head-day">
                                        <div class="word-department">เขตการขาย</div>
                                        <select name="myDropdown" id="customerCounty" class="dropdown">
                                            <option value="">เขตการขาย</option>
                                            <option value="ห้วยขวาง">ห้วยขวาง</option>
                                            <option value="บางเขน">บางเขน</option>
                                            <option value="ลาดพร้าว">ลาดพร้าว</option>
                                        </select>
                                    </div>
                                    <div class="head-day">
                                        <div class="word-department">ขนส่งโดย</div>
                                        <select name="myDropdown" id="customerExpress" class="dropdown">
                                            <option value="">ขนส่งโดย</option>
                                            <option value="Thunderexpress">Thunderexpress</option>
                                            <option value="Easy express">Easyexpress</option>
                                            <option value="ไปรษณีย์ไทย">ไปรษณีย์ไทย</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="twain-day">
                                   <div class="head-day">
                                        <div class="word-department">ข้อมูลราคาและภาษี</div>
                                        <select name="myDropdown" id="customerPriceandTax" class="dropdown">
                                            <option value="">แยกภาษี</option>
                                             <option value="ภาษีส่วนบุคคล">ภาษีส่วนบุคคล</option>
                                            <option value="ภาษีมูลค่าเพิ่ม">ภาษีมูลค่าเพิ่ม</option>
                                            <option value="ภาษีถูกหัก">ภาษีถูกหัก</option>
                                        </select>
                                    </div>
                                     <div class="head-day">
                                        <div class="word-department">สกุลเงิน</div>
                                        <select name="myDropdown" id="customerCurrency" class="dropdown">
                                            <option value="">เลือกสกุลเงิน</option>
                                            <option value="ดอลลาร์">ดอลลาร์</option>
                                            <option value="บาท">บาท</option>
                                            <option value="ยูโร">ยูโร</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="twain-day-bottom">
                                    <div class="head-day">
                                        <div class="boebutton-invoice">
                                        <div class="word-invoice">การออกใบกำกับภาษี</div>
                                        <label class="toggle-switch">
                                            <input type="checkbox" id="toggle-btn-2" >
                                            <span class="slider round"></span>
                                        </label>
                                    </div>
                                    </div>
                                    <div class="head-day">
                                        <div class="word-department">ภาระภาษีขาย</div>
                                        <select name="myDropdown" id="customerClaim" class="dropdown">
                                            <option value="">เลือกเกณท์</option>
                                            <option value="เกณท์ 1">เกณท์ 1</option>
                                            <option value="เกณท์ 2">เกณท์ 2</option>
                                            <option value="เกณท์ 3">เกณท์ 3</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="boxmain-list"><!--ส่วนกล่อง รายการ กล่องที่ 2-->
                            <!--รายการ-->
                            <div class="list">
                                <div class="head-list">รายการ</div><!--กล่องไว้ใส่หัวข้อ-->
                                <div class="word-list">สินค้า/บริการ</div><!--หัวข้อ-->
                                <div class="list-label"><!--กล่องใหญ่ของ radio-->
                                    <!--ปุ่มradio-->
                                        <div class="office-label">
                                            <div class="office-option-big">
                                                <label class="custom-radio">
                                                    <input type="radio" name="fav_language_1" value="product" >
                                            <span class="radio-btn"></span>
                                                    <div class="word-big-office">สินค้า</div>
                                                </label>
                                            </div>
                                            <div class="office-option-small">
                                                <label class="custom-radio">
                                                <input type="radio" name="fav_language_1" value="service" checked>
                                            <span class="radio-btn"></span>
                                                    <div class="word-small-office">บริการ</div>
                                                </label>
                                            </div>
                                        </div>
                                        <!--ปุ่มradio-->
                                        <!-- Input fields -->
                                        <div class="office-input">
                                            <input type="text" class="input-office invisible-one" placeholder="รหัสสาขา">
                                            <input type="text" class="input-office invisible-one" placeholder="ชื่อสาขา">
                                        </div>
                                </div>
                                <!--กล่องที่เวลากดปุ่มจะสลับเรื่อย-->
                                <div class="action-product"> <!--กล่องปุ่ product-->
                                    <div class="box-product">
                                    <div class="data5-table">
                                            <!-- ไม่มีข้อมูล -->
                                        <table class="data-table-preview">
                                                        <thead>
                                                            <tr>
                                                            <th>ลำดับ</th>
                                                            <th>รหัส</th>
                                                            <th>ชื่อรายการ</th>
                                                            <th>รายละเอียด</th>
                                                            <th>จำนวน</th>
                                                            <th>หน่วย</th>
                                                            <th>ราคา/หน่วย</th>
                                                            <th>ส่วนลด</th>
                                                            <th>ราคารวม</th>
                                                            <th></th>
                                                            </tr>
                                                        </thead>
                                                    </table>
                                    <div class="box-picture-Create-data-table2">
                                        <div class="picture-Create-data-table1">
                                            <div class="picture-Create-data"><img src="picture/Subtract.png"></div>
                                            <div class="word-in-picture-Create-data">ยังไม่มีข้อมูล</div>
                                        </div>
                                    </div>
                                    <!-- ไม่มีข้อมูล -->
                                    <!-- มีข้อมูล -->
                                        <!-- <table class="data-table-serve">
                                            <thead>
                                                <tr>
                                                    <th>ลำดับ</th>
                                                    <th>รหัส</th>
                                                    <th>ชื่อรายการ</th>
                                                    <th>รายละเอียด</th>
                                                    <th>จำนวน</th>
                                                    <th>หน่วย</th>
                                                    <th>ราคา/หน่วย</th>
                                                    <th>ส่วนลด</th>
                                                    <th>ราคารวม</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="data-row">
                                                    <td>1</td>
                                                    <td>AA-12340000</td>
                                                    <td>ระบบจัดเก็บข้อมูลลู...</td>
                                                    <td>Software สำหรับจัดเก็บข้อม...</td>
                                                    <td>1</td>
                                                    <td>รายการ</td>
                                                    <td>43,200.00</td>
                                                    <td>100.00</td>
                                                    <td>43,100.00</td>
                                                    <td>
                                                        <div class="action-icons">
                                                                <div class="openPopupBtnview">
                                                                    <div class="ac-icon"><img src="picture/eye.png">
                                                                    </div>
                                                                </div>
                                                                <div class="openPopupBtnpenview">
                                                                    <div class="ac-icon"><img src="picture/pen.png">
                                                                    </div>
                                                                </div>
                                                                <div class="ac-icon"><img src="picture/bin.png"></div>
                                                            </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div> -->
                                    <div class="openPopupBtnadd">
                                        <div class="one-button2"> 
                                            <div class="receipt-button">
                                                <div class="word-receipt">เพิ่มรายการ</div>
                                            </div>
                                        </div>
                                        </div>
                                        <!-- มีข้อมูล -->
                                    </div>
                                    <!-- ไม่มีข้อมูล -->
                                    <!-- มีข้อมูล -->
                                        <!-- <div class="data5-table">
                                        <table class="data-table-serve">
                                            <thead>
                                                <tr>
                                                    <th>ลำดับ</th>
                                                    <th>รหัส</th>
                                                    <th>ชื่อรายการ</th>
                                                    <th>รายละเอียด</th>
                                                    <th>จำนวน</th>
                                                    <th>หน่วย</th>
                                                    <th>ราคา/หน่วย</th>
                                                    <th>ส่วนลด</th>
                                                    <th>ราคารวม</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="data-row">
                                                    <td>1</td>
                                                    <td>AA-12340000</td>
                                                    <td>ระบบจัดเก็บข้อมูลลู...</td>
                                                    <td>Software สำหรับจัดเก็บข้อม...</td>
                                                    <td>1</td>
                                                    <td>รายการ</td>
                                                    <td>43,200.00</td>
                                                    <td>100.00</td>
                                                    <td>43,100.00</td>
                                                    <td>
                                                        <div class="action-icons">
                                                            <div class="openPopupBtn3">
                                                                <div class="ac-icon"><img src="picture/eye.png"></div>
                                                            </div>
                                                            <div class="openPopupBtn2">
                                                                <div class="ac-icon"><img src="picture/pen.png"></div>
                                                            </div>
                                                            <div class="ac-icon"><img src="picture/bin.png"></div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                        <div class="one-button1"> 
                                            <div class="receipt-button">
                                                <div class="word-receipt">เพิ่มรายการ</div>
                                            </div>
                                        </div> -->
                                    <!-- มีข้อมูล -->
                                    </div>
                                </div>
                                <!--กล่องสีชมพู-->
                                <div class="action-serve"> <!--กล่องปุ่ product-->
                                    <div class="box-serve">
                                        <div class="data5-table">
                                            <!-- ไม่มีข้อมูล -->
                                             <div id="noDataSection">
                                        <table class="data-table-preview">
                                                        <thead>
                                                            <tr>
                                                            <th>ลำดับ</th>
                                                            <th>รหัส</th>
                                                            <th>ชื่อรายการ</th>
                                                            <th>รายละเอียด</th>
                                                            <th>จำนวน</th>
                                                            <th>หน่วย</th>
                                                            <th>ราคา/หน่วย</th>
                                                            <th>ส่วนลด</th>
                                                            <th>ราคารวม</th>
                                                            <th></th>
                                                            </tr>
                                                        </thead>
                                                    </table>
                                    <div class="box-picture-Create-data-table2">
                                        <div class="picture-Create-data-table1">
                                            <div class="picture-Create-data"><img src="picture/Subtract.png"></div>
                                            <div class="word-in-picture-Create-data">ยังไม่มีข้อมูล</div>
                                        </div>
                                    </div>
                                    </div>
                                    <!-- ไม่มีข้อมูล -->
                                    <!-- มีข้อมูล -->
                                     <div id="myPopupview" style="display: none;">
                                        <table class="data-table-serve">
                                            <thead>
                                                <tr>
                                                    <th>ลำดับ</th>
                                                    <th>รหัส</th>
                                                    <th>ชื่อรายการ</th>
                                                    <th>รายละเอียด</th>
                                                    <th>จำนวน</th>
                                                    <th>หน่วย</th>
                                                    <th>ราคา/หน่วย</th>
                                                    <th>ส่วนลด</th>
                                                    <th>ราคารวม</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="data-row">
                                                    <td>1</td>
                                                    <td>AA-12340000</td>
                                                    <td>ระบบจัดเก็บข้อมูลลู...</td>
                                                    <td>Software สำหรับจัดเก็บข้อม...</td>
                                                    <td>1</td>
                                                    <td>รายการ</td>
                                                    <td>43,200.00</td>
                                                    <td>100.00</td>
                                                    <td>43,100.00</td>
                                                    <td>
                                                        <div class="action-icons">
                                                                <div class="openPopupBtnview">
                                                                    <div class="ac-icon"><img src="picture/eye.png">
                                                                    </div>
                                                                </div>
                                                                <div class="openPopupBtnpenview">
                                                                    <div class="ac-icon"><img src="picture/pen.png">
                                                                    </div>
                                                                </div>
                                                                <div class="ac-icon"><img src="picture/bin.png"></div>
                                                            </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        </div>
                                    </div>
                                        <div class="openPopupBtnadd">
                                        <div class="one-button2"> 
                                            <div class="receipt-button">
                                                <div class="word-receipt">เพิ่มรายการ</div>
                                            </div>
                                        </div>
                                        </div>
                                        <!-- มีข้อมูล -->
                                    </div>
                                </div>
                                <div class="Main-box-below">
                                    <div class="signature">
                                    <div class="checkbox-main">
                                            <div class="checkbox-list-box-3">
                                                <input type="checkbox" name="visits" id="list-tax-data-3"
                                                    class="checkbox-list-input-3">
                                                <label for="list-tax-data-3">ลายเซ็นต์อิเล็กทรอนิกและตรายาง</label>
                                            </div>
                                        </div>
                                        <div class="Under-Bill-number"><!--กล่องล่างเลขที่บิล-->
                                            <div class="title-period">หมายเหตุ</div>
                                            <textarea class="period-text" type="text" placeholder="หมายเหตุ"></textarea>
                                        </div>
                                        <div class="box-Load-file">
                                            <div class="head-lode">แนบไฟล์</div>
                                            <div class="upload-file-box">
                                                <div class="openPopupBtnupload">
                                                <div class="upload-file-box-in">
                                                    <img src="picture/save.png" class="img-save">
                                                    อัพโหลดไฟล์
                                                </div>
                                                </div>
                                            </div>
                                            <div class="title-upload">(ขนาดไฟล์เอกสาร pdf, jpg, xls, doc ไม่เกิน 40 MB /
                                                ไฟล์)</div>
                                        </div>
                                    </div>
                                    <div class="conclude">
                                        <div class="bar-conclude">
                                            <div class="head-conclude">สรุปมูลค่าสุทธิ</div>
                                            <div class="openPopupBtneditpen">
                                            <div class="icon"><img src="picture/pen.png"></div>
                                            </div>
                                        </div>
                                        <div class="Amount-of-money">
                                            <div class="word-Amount">จำนวนเงิน</div>
                                            <div class="number-money">
                                                <div class="word-number">43,200.00</div>
                                                <div class="word-money">บาท</div>
                                            </div>
                                        </div>
                                        <div class="Amount-of-money">
                                            <div class="word-Amount">หักส่วนลด</div>
                                            <div class="number-money">
                                                <div class="word-number">100.00</div>
                                                <div class="word-money">บาท</div>
                                            </div>
                                        </div>
                                        <div class="Amount-of-money-and-button">
                                            <div class="word-Amount">หักมัดจำ</div>
                                            <div class="number-money">
                                            <div class="selece-paper-box">
                                                <div class="openPopupBtndeposit">
                                        <div class="selece-paper-box-in">
                                                <img src="picture/save.png" class="img-save">   
                                                        เลือกใบจ่ายมัดจำ
                                        </div>
                                        </div>
                                        </div>
                                            </div>
                                        </div>
                                        <div class="Amount-of-money">
                                            <div class="checkbox-main">
                                                <div class="checkbox-list-box">
                                                <input type="checkbox" name="visits" id="seven-persen" class="checkbox-input" checked>
                                                    <label
                                                        for="seven-persen">ภาษีมูลค่าเพิ่ม&nbsp;&nbsp;7%</label>
                                                </div>
                                            </div>
                                            <div class="number-money">
                                                <div class="word-number">3,017.00</div>
                                                <div class="word-money">บาท</div>
                                            </div>
                                        </div>
                                        <div class="Amount-of-money">
                                            <div class="checkbox-main">
                                                <div class="checkbox-list-box-2">
                                                    <input type="checkbox" name="visits" id="list-tax-data-2"
                                                        class="checkbox-list-input-2">
                                                    <label for="list-tax-data-2">ภาษีถูกหัก ณ
                                                        ที่จ่าย</label>
                                                    <div class="dropdown-unit">
                                                        <div class="dropdown-box-unit">
                                                            <select name="unit-persen" id="unit-items">
                                                                <option hidden selected>0.0</option>
                                                                <option value="1.00">1.5%</option>
                                                                <option value="2.00">1.2%</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- <div class="number-money">
                                                <div class="word-number">300.00</div>
                                                <div class="word-money">บาท</div>
                                            </div> -->
                                        </div>
                                                <div class="summery1">
                                            <div class="tex-payment-sum">ชำระรวมทั้งสิ้น</div>
                                            <div class="money-baht">
                                                <div class="money-sum">46,417.00</div>
                                                <div class="baht-sum">บาท</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--khaow-->
                    <!-- Fei -->
                    <div id="myBox" class="my-box show">
                        <div class="box-list-deposit">
                            <div class="box-list-deposit-in">
                                <div class="list-deposit">รายการจ่ายชำระ</div>
                                <div class="payment">สินค้า/บริการ</div>
                            </div>
                            <div class="date-input-wrapper-two">
                                <!-- <div class="date-payment">วันที่</div> -->
                                    <div class="box-select-refe">
                                        <div class="date-payment">ใบวางบิล</div>
                                        <div class="input-upload">
                                    <select name="myDropdown" id="myDropdown" class="dropdown-purchase">
                                            <option value="">ใบวางบิล</option>
                                            <option value="option1">ดอลลาร์</option>
                                            <option value="option2">บาท</option>
                                            <option value="option3">ยูโร</option>
                                        </select>
                                        </div>
                                    </div>
                            </div>
                        </div>
                        <div class="data5-table">
                                        <table class="data-table-serve7">
                                            <thead>
                                                <tr>
                                                    <th>ลำดับ</th>
                                                    <th>เลขที่ใบเสร็จ</th>
                                                    <th>ชื่อรายการ</th>
                                                    <th>วันที่</th>
                                                    <th>วันที่ชำระ</th>
                                                    <th>วันที่เรียบร้อย</th>
                                                    <th>ราคารวม</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="data-row">
                                                    <td>1</td>
                                                    <td>45-1234078000</td>
                                                    <td>ระบบจัดเก็บข้อมูลภายในสำนักงาน</td>
                                                    <td>30/01/2025</td>
                                                    <td>30/01/2025</td>
                                                    <td>30/01/2025</td>
                                                    <td>46,317.00</td>
                                                    <td>
                                                        <div class="action-icons">
                                                <div class="openPopupBtnviewdate">
                                                    <div class="ac-icon"><img src="picture/eye.png"></div>
                                                </div>
                                                <div class="openPopupBtnaddsum">
                                                    <div class="ac-icon"><img src="picture/pen.png"></div>
                                                </div>
                                                <div class="ac-icon"><img src="picture/bin.png"></div>
                                            </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="openPopupBtnadddate">
                                    <div class="one-button2"> <!--กล่องปุ่มออกใบเสร็จ-->
                                        
                                            <div class="receipt-button"><!--ปุ่มออกใบเสร็จ-->
                                                <div class="word-receipt">เพิ่มรายการชำระ</div>
                                            </div>
                                        </div>
                                        </div>
                        <!-- <div class="radio-box-margin">
                            <div class="radio-box-in">
                                <div class="radio-box-cash">ช่องทางการชำระเงิน</div>
                                <div
                                    class="radio-box-hub">
                                    <label for="cash" class="custom-radio">
                                        <input type="radio" id="cash" value="page1" name="pageSelection"
                                            class="radio-cash" checked><span class="radio-btn"></span> เงินสด
                                    </label>
                                    <label for="bank" class="custom-radio">
                                        <input type="radio" id="bank" value="page2" name="pageSelection"
                                            class="radio-cash" ><span class="radio-btn"></span>ธนาคาร
                                    </label>
                                    <label for="promptpay" class="custom-radio">
                                        <input type="radio" id="promptpay" value="page3" name="pageSelection"
                                            class="radio-cash"><span class="radio-btn"></span>พร้อมเพย์ QR Code
                                    </label>
                                    <label for="Reserve" class="custom-radio">
                                        <input type="radio" id="Reserve" value="page4" name="pageSelection"
                                            class="radio-cash"> <span class="radio-btn"></span>สำรองรับ/จ่าย
                                    </label>
                                </div>
                            </div>
                        </div> -->
                                        <div class="Main-box-below-two-three">
                                    <div class="signatur-two">
                                        <div class="checkbox-main">
                                            <div class="checkbox-box">
                                                <input type="checkbox" name="visits" id="list-tax-data-modal3"
                                                    class="checkbox-input">
                                                <label for="list-tax-data-modal3">ชำระเงินเรียบร้อย</label>
                                            </div>
                                        </div>
                                        <div class="signatur-two-three">
                                        <div class="Under-Bill-day-three"><!--กล่องล่างเลขที่บิล-->
                                            <div class="title-period">วันที่เรียบร้อย</div>
                                            <input type="date" class="date-tax">
                                        </div>
                                        <div class="Under-Bill-day-three"><!--กล่องล่างเลขที่บิล-->
                                            <div class="title-period">วันที่เช็คผ่าน</div>
                                            <input type="date" class="date-tax">
                                        </div>
                                        <div class="date-input-wrapper-two">
                                <!-- <div class="date-payment">วันที่</div> -->
                                    <div class="box-select-refe-three">
                                        <div class="date-payment">สถานที่ส่งของ</div>
                                        <div class="input-upload-three">
                                    <select name="myDropdown" id="myDropdown" class="dropdown-purchase">
                                            <option value="">เลือกสถานที่</option>
                                            <option value="option1">กทม</option>
                                            <option value="option2">นนทบุรี</option>
                                            <option value="option3">ปทุมธานี</option>
                                        </select>
                                        </div>
                                    </div>
                            </div>
                                        </div>
                                    </div>
                                    <div class="conclude">
                                        <div class="bar-conclude">
                                            <div class="head-conclude">สรุปยอดรับชำระ</div>
                                        </div>
                                        <div class="Amount-of-money">
                                            <div class="word-Amount">จำนวนเงินรวมทั้งสิ้น</div>
                                            <div class="number-money">
                                                <div class="word-number">46,117.00</div>
                                                <div class="word-money">บาท</div>
                                            </div>
                                        </div>

                                        <div class="Amount-of-money">
                                            <div class="word-Amount">ยอดชำระ</div>
                                            <div class="number-money">
                                                <div class="word-number">46,117.00</div>
                                                <div class="word-money">บาท</div>
                                            </div>
                                        </div>

                                        <div class="Amount-of-money-checkbox">
                                            <div class="checkbox-main">
                                                <div class="checkbox-list-box">
                                                    <input type="checkbox" name="visits" id="list-tax-data-modal4"
                                                        class="checkbox-list-input-new">
                                                    <label for="list-tax-data-modal4">ยอดคงค้าง</div>
                                            </div>
                                                <input type="number" placeholder="กรอกจำนวนเงิน" class="input-checkbox">
                                        </div>
    <!-- <div class="checkbox-main">
                                                <div class="checkbox-list-box-2">
                                                    <input type="checkbox" name="visits" id="list-tax-data-2"
                                                        class="checkbox-list-input-2">
                                                    <label for="list-tax-data-2">ภาษีหัก ณ
                                                        ที่จ่าย</label>
                                                    <div class="dropdown-unit">
                                                        <div class="dropdown-box-unit">
                                                            <select name="unit" id="unit-items">
                                                                <option hidden selected>0.0</option>
                                                                <option value="1.00">1.5%</option>
                                                                <option value="2.00">1.2%</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> -->
                                        <div class="Amount-of-money">
                                            <div class="checkbox-main">
                                                <div class="checkbox-list-box-2">
                                                    <input type="checkbox" name="visits" id="list-tax-data-modal5"
                                                        class="checkbox-list-input-2">
                                                    <label for="list-tax-data-modal5">คอมมิชชั่น</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                        <!-- หน้าที่1-->
                        <div id="page1" class="page active">
                            <div
                                class="page1-hub">
                                <div class="page1-left">
                                    <div class="depositdeductions"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                        <div class="Customer-payeename"> <!--กล่องลูกค้า-->
                                            <div class="payeename">ชื่อผู้รับเงิน</div><!--กล่องข้อความลูกค้า-->
                                            <input class="payeename-text" type="text"
                                                placeholder="ตัวอย่างข้อความ"><!--กล่อง input ความลูกค้า-->
                                        </div>
                                        <div class="Customer-paymentamount"><!--กล่องรหัสลูกค้า-->
                                            <div class="paymentamount">จำนวนเงินรับชำระ (บาท)</div>
                                            <!--กล่องข้อรหัสลูกค้า-->
                                            <input class="paymentamount-text" type="number"
                                                placeholder="0000000000000.00"><!--กล่องinputข้อรหัสลูกค้า-->
                                        </div>
                                    </div>
                                    <div class="Description">คำอธิบายช่องทางการเงิน</div>
                                    <textarea class="Description-textarea" placeholder="ระบุหมายเหตุ"></textarea>
                                    <div class="depositdeductions"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                        <div class="deposit-date"> <!--กล่องลูกค้า-->
                                            <div class="payeename">วันที่ชำระ</div><!--กล่องข้อความลูกค้า-->
                                            <input class="deposit-date-text" type="date"><!--กล่อง input ความลูกค้า-->
                                        </div>
                                        <div class="deposit-time"><!--กล่องรหัสลูกค้า-->
                                            <div class="paymentamount">เวลา</div><!--กล่องข้อรหัสลูกค้า-->
                                            <input class="deposit-time-text" type="time"
                                                placeholder="0000000000000.00"><!--กล่องinputข้อรหัสลูกค้า-->
                                        </div>
                                    </div>
                                </div>
                                <div class="page1-right">
                                    <div class="all-margin">
                                        <div class="Summary-payment">สรุปยอดรับชำระ</div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ภาษีหัก ณ ที่จ่าย 1.5%</div>
                                        <div class="all-gap">
                                            <div class="money">300.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ค่าธรรมเนียม</div>
                                        <div class="all-gap">
                                            <div class="money">0000.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">จำนวนเงินรวมทั้งสิ้น</div>
                                        <div class="all-gap">
                                            <div class="money">46,317.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ยอดชำระ</div>
                                        <div class="all-gap">
                                            <div class="money">46,317.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="checkbox-list-box-modal">
                                                <input type="checkbox" name="visits" id="list-tax-data-new" class="checkbox-list-input-new">
                                                    <label
                                                        for="list-tax-data-new">ยอดเงินที่รับเกิน</label>
                                                </div>
                                                <div class="checkbox-list-box-modal">
                                                <input type="checkbox" name="visits" id="list-tax-data-2" class="checkbox-list-input-2">
                                                    <label
                                                        for="list-tax-data-2">คอมมิชชั่น</label>
                                                </div>
                                </div>
                            </div>
                        </div>
                        <!-- หน้าที่2-->
                        <div id="page2" class="page">
                            <div
                                class="page2-hub">
                                <div class="page2-left">
                                    <div class="depositdeductions"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                        <div class="Customer-paymentamount1"><!--กล่องรหัสลูกค้า-->
                                            <div class="paymentamount">จำนวนเงินรับชำระ (บาท)</div>
                                            <!--กล่องข้อรหัสลูกค้า-->
                                            <input class="paymentamount-text" type="number"
                                                placeholder="0000000000000.00"><!--กล่องinputข้อรหัสลูกค้า-->
                                        </div>
                                    </div>
                                    <div style="display: flex;gap: 16px;">
                                        <div class="Customer-payeename"> <!--กล่องลูกค้า-->
                                            <div class="payeename-bank">ธนาคาร</div>
                                            <!--กล่องข้อความลูกค้า-->
                                            <div style="width: 100%;height: 100%;">
                                                <select name="myDropdown" id="myDropdown" class="dropdown-new1">
                                                    <option value="">ชื่อธนาคาร</option>
                                                    <option value="option1">ชื่อธนาคาร1</option>
                                                    <option value="option2">ชื่อธนาคาร2</option>
                                                    <option value="option3">ชื่อธนาคาร3</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="Customer-paymentamount"><!--กล่องรหัสลูกค้า-->
                                            <div class="paymentamount-bank">เลขบัญชี</div>
                                            <!--กล่องข้อรหัสลูกค้า-->
                                            <input class="paymentamount-text" type="number"
                                                placeholder="xxxx-xxxx-xxxx-xxxx"><!--กล่องinputข้อรหัสลูกค้า-->
                                        </div>
                                    </div>
                                    <div class="depositdeductions"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                        <div class="deposit-date"> <!--กล่องลูกค้า-->
                                            <div class="payeename-date-bank">วันที่ชำระ</div><!--กล่องข้อความลูกค้า-->
                                            <input class="deposit-date-text" type="date"><!--กล่อง input ความลูกค้า-->
                                        </div>
                                        <div class="deposit-time"><!--กล่องรหัสลูกค้า-->
                                            <div class="paymentamount-time-bank">เวลา</div><!--กล่องข้อรหัสลูกค้า-->
                                            <input class="deposit-time-text" type="time"
                                                placeholder="0000000000000.00"><!--กล่องinputข้อรหัสลูกค้า-->
                                        </div>
                                    </div>
                                    <div>
                                        <div class="Attach-slip">แนบรูปสลิป</div>
                                        <div class="upload-file-box">
                                            <div class="upload-file-box-in">
                                                <img src="picture/save.png" class="img-save" alt="ไอคอนบันทึก">
                                                <span id="upload-button-text">อัพโหลดไฟล์</span>
                                            </div>
                                        </div>
                                        
                                        <div style="display: flex; margin-top: 8px;gap: 8px;">
                                            <div id="file-name-display" class="selected-file-info"></div>
                                            <div id="file-size-display"></div>
                                            <div class="additional-images">
                                                <img src="picture/eye.png" id="image1" alt="รูปภาพเพิ่มเติม 1">
                                                <img src="picture/bin.png" id="image2" alt="รูปภาพเพิ่มเติม 2">
                                            </div>
                                        </div>
                                        <div id="after-selection-message" class="selected-file-info"></div>
                                        <div class="file-detail">(ขนาดไฟล์เอกสาร pdf, jpg ไม่เกิน 40 MB)</div>
                                    </div>
                                </div>
                                <div class="page2-right">
                                    <div style="display: flex; justify-content: space-between;">
                                        <div class="Summary-payment">สรุปยอดรับชำระ</div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">มูลค่ารวมภาษี</div>
                                        <div class="all-gap">
                                            <div class="money">21,400.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ภาษีถูกหัก ณ ที่จ่าย 1.5%</div>
                                        <div class="all-gap">
                                            <div class="money">300.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ยอดคงค้าง</div>
                                        <div class="all-gap">
                                            <div class="money">20,000.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ยอดที่ตัดไปแล้ว</div>
                                        <div class="all-gap">
                                            <div class="money">20,000.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="summery">
                                        <div class="tex-payment-sum">ชำระรวมทั้งสิ้น</div>
                                        <div class="money-baht">
                                            <div class="money-sum">21,100.00</div>
                                            <div class="baht-sum">บาท</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- หน้าที่3-->
                        <div id="page3" class="page">
                            <div
                                class="page3-hub">
                                <div class="page3-left">
                                    <div class="depositdeductions"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                        <div class="Customer-paymentamount1"><!--กล่องรหัสลูกค้า-->
                                            <div class="paymentamount">จำนวนเงินรับชำระ (บาท)</div>
                                            <!--กล่องข้อรหัสลูกค้า-->
                                            <input class="paymentamount-text-qr" type="number"
                                                placeholder="0000000000000.00"><!--กล่องinputข้อรหัสลูกค้า-->
                                        </div>
                                    </div>
                                    <div class="depositdeductions"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                        <div class="deposit-date"> <!--กล่องลูกค้า-->
                                            <div class="payeename-date-bank">วันที่ชำระ</div><!--กล่องข้อความลูกค้า-->
                                            <input class="deposit-date-text" type="date"><!--กล่อง input ความลูกค้า-->
                                        </div>
                                        <div class="deposit-time"><!--กล่องรหัสลูกค้า-->
                                            <div class="paymentamount-time-bank">เวลา</div><!--กล่องข้อรหัสลูกค้า-->
                                            <input class="deposit-time-text" type="time"
                                                placeholder="0000000000000.00"><!--กล่องinputข้อรหัสลูกค้า-->
                                        </div>
                                    </div>
                                    <div>
                                        <div class="Attach-slip">แนบรูปสลิป</div>
                                        <div class="upload-file-box">
                                            <div class="upload-file-box-in">
                                                <img src="picture/save.png" class="img-save" alt="ไอคอนบันทึก">
                                                <span id="upload-button-text1">อัพโหลดไฟล์</span>
                                            </div>
                                        </div>
                                        <input type="file" id="upload-slip1" class="hidden-input-file"
                                            accept="image/jpeg,application/pdf">
                                        <div style="display: flex; margin-top: 8px;gap: 8px;">
                                            <div id="file-name-display1" class="selected-file-info1"></div>
                                            <div id="file-size-display1"></div>
                                            <div class="additional-images">
                                                <img src="picture/eye.png" id="image11" data-image-type="eye"
                                                    alt="รูปภาพเพิ่มเติม 1">
                                                <img src="picture/bin.png" id="image21" data-image-type="bin"
                                                    alt="รูปภาพเพิ่มเติม 2">
                                            </div>
                                        </div>
                                        <div id="after-selection-message1" class="selected-file-info"></div>
                                        <div class="file-detail">
                                            (ขนาดไฟล์เอกสาร pdf, jpg ไม่เกิน 40 MB)
                                        </div>
                                    </div>
                                </div>
                                <div class="page3-right">
                                    <div class="all-margin">
                                        <div class="Summary-payment">สรุปยอดรับชำระ</div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">มูลค่ารวมภาษี</div>
                                        <div class="all-gap">
                                            <div class="money">21,400.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ภาษีถูกหัก ณ ที่จ่าย 1.5%</div>
                                        <div class="all-gap">
                                            <div class="money">300.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ยอดคงค้าง</div>
                                        <div class="all-gap">
                                            <div class="money">20,000.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ยอดที่ตัดไปแล้ว</div>
                                        <div class="all-gap">
                                            <div class="money">20,000.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="summery">
                                        <div class="tex-payment-sum">ชำระรวมทั้งสิ้น</div>
                                        <div class="money-baht">
                                            <div class="money-sum">21,100.00</div>
                                            <div class="baht-sum">บาท</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- หน้าที่4-->
                        <div id="page4" class="page">
                            <div
                                class="page4-hub">
                                <div class="page4-left">
                                    <div class="depositdeductions"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                        <div class="Customer-payeename"> <!--กล่องลูกค้า-->
                                            <div class="payeename">ชื่อผู้ที่สำรองจ่าย</div><!--กล่องข้อความลูกค้า-->
                                            <div style="width: 100%;height: 100%;">
                                                <select name="myDropdown" id="myDropdown" class="dropdown-new1">
                                                    <option value="">ชื่อผู้ที่สำรองจ่าย</option>
                                                    <option value="option1">ชื่อผู้ที่สำรองจ่าย1</option>
                                                    <option value="option2">ชื่อผู้ที่สำรองจ่าย2</option>
                                                    <option value="option3">ชื่อผู้ที่สำรองจ่าย3</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="Customer-paymentamount"><!--กล่องรหัสลูกค้า-->
                                            <div class="paymentamount">จำนวนเงินรับชำระ (บาท)</div>
                                            <!--กล่องข้อรหัสลูกค้า-->
                                            <input class="paymentamount-text" type="number"
                                                placeholder="0000000000000.00"><!--กล่องinputข้อรหัสลูกค้า-->
                                        </div>
                                    </div>
                                    <div class="Description">คำอธิบายช่องทางการเงิน</div>
                                    <textarea class="Description-textarea" placeholder="ระบุหมายเหตุ"></textarea>
                                    <div class="checkbox-container">
                                        <div class="checkbox-item">
                                            <input type="checkbox" name="visits" id="not-show-name"
                                                class="my-checkbox-input">
                                            <label for="not-show-name" class="tex-payment">ตัดมัดจำเรียบร้อย</label>
                                        </div>
                                    </div>
                                    <div class="depositdeductions"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                        <div class="deposit-date"> <!--กล่องลูกค้า-->
                                            <div class="payeename">วันที่ชำระ</div><!--กล่องข้อความลูกค้า-->
                                            <input class="deposit-date-text" type="date"><!--กล่อง input ความลูกค้า-->
                                        </div>
                                        <div class="deposit-time"><!--กล่องรหัสลูกค้า-->
                                            <div class="paymentamount">เวลา</div><!--กล่องข้อรหัสลูกค้า-->
                                            <input class="deposit-time-text" type="time"
                                                placeholder="0000000000000.00"><!--กล่องinputข้อรหัสลูกค้า-->
                                        </div>
                                    </div>
                                </div>
                                <div class="page4-right">
                                    <div class="all-margin">
                                        <div class="Summary-payment">สรุปยอดรับชำระ</div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">มูลค่ารวมภาษี</div>
                                        <div class="all-gap">
                                            <div class="money">21,400.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ภาษีถูกหัก ณ ที่จ่าย 1.5%</div>
                                        <div class="all-gap">
                                            <div class="money">300.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ยอดคงค้าง</div>
                                        <div  class="all-gap">
                                            <div class="money">20,000.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="all-margin">
                                        <div class="tex-payment">ยอดที่ตัดไปแล้ว</div>
                                        <div class="all-gap">
                                            <div class="money">20,000.00</div>
                                            <div class="baht">บาท</div>
                                        </div>
                                    </div>
                                    <div class="summery">
                                        <div class="tex-payment-sum">ชำระรวมทั้งสิ้น</div>
                                        <div class="money-baht">
                                            <div class="money-sum">21,100.00</div>
                                            <div class="baht-sum">บาท</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="box-2" class="my-box">
                        <div class="head-Part-3-Invoice">
                            <div>
                                <div class="tax-slip">ใบกำกับภาษี</div>
                                <div class="Sales-tax-list">รายการภาษีขาย</div>
                            </div>
                            <div class="all-gap">
                                <div>
                                    <div class="Business-Type">ยื่นภาษีรวมในงวดที่</div>
                                    <div class="select-tax">
                                        <select class="Business-number">
                                            <option value="">00/00</option>
                                            <option value="option1">01/01</option>
                                            <option value="option2">02/02</option>
                                            <option value="option3">03/03</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="date-input-wrapper">
                                    <div class="Business-Type">วันที่</div>
                                    <div><input type="date" class="date-tax"></div>
                                </div>
                                <div>
                                    <div class="Business-Type">เลขใบกำกับภาษี</div>
                                    <div class="taxt-tax"><input type="text" placeholder="AA-0000000000"></div>
                                </div>
                            </div>
                        </div>
                        <div
                            class="tax-hub">
                            <div class="tax-hub-left">
                                <div>
                                    <div class="depositdeductions"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                        <div class="Customer-payeename"> <!--กล่องลูกค้า-->
                                            <div class="Business-Type">ประเภทธุรกิจ / คำนำหน้า</div>
                                            <!--กล่องข้อความลูกค้า-->
                                            <div class="tax-full">
                                                <select name="myDropdown" id="myDropdown" class="dropdown-new1">
                                                    <option value="">ตัวอย่างข้อความ</option>
                                                    <option value="option1">ตัวอย่างข้อความ1</option>
                                                    <option value="option2">ตัวอย่างข้อความ2</option>
                                                    <option value="option3">ตัวอย่างข้อความ3</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="Customer-paymentamount"><!--กล่องรหัสลูกค้า-->
                                            <div class="Business-Type">ชื่อลูกค้า</div><!--กล่องข้อรหัสลูกค้า-->
                                            <div class="tax-full">
                                                <select name="myDropdown" id="myDropdown" class="dropdown-new2" disabled>
                                                    <option value="">ลูกค้าทดสอบ</option>
                                                    <option value="option1">ตัวเลือกที่ 1</option>
                                                    <option value="option2">ตัวเลือกที่ 2</option>
                                                    <option value="option3">ตัวเลือกที่ 3</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="depositdeductions"> <!--กล่องของลูกค้าและรหัสลูกค้า-->
                                        <div class="Customer-payeename"> <!--กล่องลูกค้า-->
                                            <div class="payeename">แผนก</div><!--กล่องข้อความลูกค้า-->
                                            <div class="tax-full">
                                                <select name="myDropdown" id="myDropdown" class="dropdown-new1">
                                                    <option value="">แผนก</option>
                                                    <option value="option1">ตัวเลือกที่ 1</option>
                                                    <option value="option2">ตัวเลือกที่ 2</option>
                                                    <option value="option3">ตัวเลือกที่ 3</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="Customer-paymentamount"><!--กล่องรหัสลูกค้า-->
                                            <div class="paymentamount">เลขประจำตัวผู้เสียภาษี</div>
                                            <!--กล่องข้อรหัสลูกค้า-->
                                            <div class="tax-full">
                                                <select name="myDropdown" id="myDropdown" class="dropdown-new2" disabled>
                                                    <option value="">0000000000000</option>
                                                    <option value="option1">ตัวเลือกที่ 1</option>
                                                    <option value="option2">ตัวเลือกที่ 2</option>
                                                    <option value="option3">ตัวเลือกที่ 3</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="summery-tax">
                                <div class="all-margin">
                                    <div class="Summary-payment">สรุปภาษี</div>
                                </div>
                                <div class="all-margin">
                                    <div class="tex-payment">ราคาสินค้า / บริการ</div>
                                    <div class="all-gap">
                                        <div class="money">43,100.00</div>
                                        <div class="baht">บาท</div>
                                    </div>
                                </div>
                                <div class="all-margin">
                                    <div class="tex-payment">จำนวนภาษี</div>
                                    <div class="all-gap">
                                        <div class="money">3,317.00</div>
                                        <div class="baht">บาท</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="cancel-save">
                        <div class="box-cancel-save">
                        <a href="certificate-sale-table.html" onclick="setCancelState()"><div class="cancel">ยกเลิก</div></a>
                        <!-- <a href="certificate-sale-preview.html" id="saveAndGo"><div class="save">บันทึก</div></a> -->
                         <div  class="save" id="saveAndGo" onclick="handleSaveQuotation()">บันทึก</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--เลือกใบอ้างอิง-->
    <div class="popup-container myPopupsalesorder">
        <div class="popup-content1-side-popup-search">
            <div class="head-bar-search">
                <div class="bold">ค้นหาใบสั่งขาย</div>
                <div><input type="search" class="search-pass-long" placeholder="ค้นหา"></div>
            </div>
            <div class="head-of-barsearch">
            <div class="bar-search-long">
                <div class="number-bar-long">ลำดับ</div>
                <div class="pass-bar-long">รหัส</div>
                <div class="name-bar-long">ชื่อรายการ</div>
                <div class="price-bar-long">ราคารวม</div>
                <div class="none-bar"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">1</div>
                <div class="code-search">AI-202501130001</div>
                <div class="name-search-long">Software พื้นที่จัดเก็บข้อมูล พร้อมติดตั้งและจัดอบรม</div>
                <div class="price-search-long">43,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">2</div>
                <div class="code-search">AI-202501120001</div>
                <div class="name-search-long">ทดสอบ1</div>
                <div class="price-search-long">1,111,111,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">3</div>
                <div class="code-search">AI-202501110001</div>
                <div class="name-search-long">ทดสอบ2</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">4</div>
                <div class="code-search">AI-202501100001</div>
                <div class="name-search-long">ทดสอบ3</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">5</div>
                <div class="code-search">AI-202501110002</div>
                <div class="name-search-long">ทดสอบ4</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">6</div>
                <div class="code-search">AI-202501090001</div>
                <div class="name-search-long">ทดสอบ5</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">7</div>
                <div class="code-search">AI-202501080001</div>
                <div class="name-search-long">ทดสอบ6</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">8</div>
                <div class="code-search">AI-202501070001</div>
                <div class="name-search-long">ทดสอบ7</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">9</div>
                <div class="code-search">AI-202501060001</div>
                <div class="name-search-long">ทดสอบ8</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">10</div>
                <div class="code-search">AI-202501050001</div>
                <div class="name-search-long">ทดสอบ9</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            </div>
            <div class="under-search-long">
                <div class="under-page">1 of 40 pages</div>
                <div class="under-page1">1</div>
                <div class="number-green">2</div>
                <div class="number-green">3</div>
                <div class="number-green-dot">...</div>
                <div class="number-green-40">40</div>
                <div class="arrow-container"><img src="picture/arrow-right.png" class="arrow"></div>
            </div>
            <div class="cancel-save-under">
                <div class="cancel cancelPopupBtn10">ยกเลิก</div>
                <div class="save addAndHideBtn10">เพิ่ม</div>
            </div>
        </div>
    </div>
    <!--เพิ่มรายการ-->
    <div class="popup-container myPopupadd">
        <div class="popup-content3-add">
            <div style="width: 100%;">
                <div class="bold">เพิ่มรายการ</div>
                <div class="regular">รายละเอียด และจำนวน</div>
            </div>
            <div style="width: 100%;">
                <div class="password-unit-price-unit">
                    <div class="password-unit-price-unit-box">
                        <div class="password">
                            <div class="password-title">รหัส</div>
                            <div class="password-box">
                                <div class="addAndHideBtn4">
                                    <div class="password-box-in">
                                        <img src="picture/save.png" class="img-save">
                                        เลือกรหัส
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="unit">
                            <div class="model-all">
                                <div class="unit-title">หน่วย</div>
                                <div class="red-dot">*</div>
                            </div>
                            <select class="modal-select">
                                <option selected>เลือกหน่วย</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                            </select>
                        </div>
                        <div class="price-unit">
                            <div class="model-all">
                                <div class="price-unit-title">ราคา/หน่วย</div>
                                <div class="red-dot">*</div>
                            </div>
                            <input type="number" placeholder="ราคา" class="price-unit-class">
                        </div>
                    </div>
                </div>
                <div style="width: 100%;height: 65px;">
                    <div class="model-all-name-add-modal">
                        <div class="unit-title-add-modal">ชื่อรายการ</div>
                        <div class="red-dot-name">*</div>
                    </div>
                    <div><input type="text" class="input-add" placeholder="ชื่อรายการ">
                    </div>
                </div>
                <div style="width: 100%;height: 148px;">
                    <div class="model-all-name-add-modal">
                        <div class="unit-title">รายละเอียด</div>
                        <div class="red-dot-name">*</div>
                    </div>
                    <textarea class="textarea-add-name-gray" placeholder="กรอกรายละเอียด"></textarea>
                </div>
                <hr class="line-modal">
                <div class="price-all">
                    <div class="price-unit-view">
                        <div class="model-all">
                            <div class="price-unit-title">จำนวน</div>
                            <div class="red-dot">*</div>
                        </div>
                        <input type="number" placeholder="กรอกจำนวน" class="price-unit-class">
                    </div>
                    <div class="price-unit-view">
                        <div class="model-all">
                            <div class="price-unit-title">ส่วนลด</div>
                            <div class="red-dot">*</div>
                        </div>
                        <input type="number" placeholder="กรอกส่วนลด" class="price-unit-class">
                    </div>
                    <div class="price-unit-view">
                        <div class="model-all">
                            <div class="price-unit-title">ราคารวม</div>
                        </div>
                        <input type="text" placeholder="ราคารวม" class="price-unit-class-dis" disabled>
                    </div>
                </div>
                <div class="cancel-save-under">
                    <div class="box-cancel-save">
                        <div class="cancel cancelPopupBtn4">ยกเลิก</div>
                        <div id="btnConfirmAdd" class="save cancelPopupBtn4">เพิ่ม</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="popup-container sideadd new-section">
        <div class="popup-content1-side-popup-add">
            <div style="display: flex;justify-content: space-between;">
                <div class="bold">ค้นหารหัส</div>
                <div><input type="search" class="search-pass" placeholder="ค้นหา"></div>
            </div>
            <div class="head-of-barsearch">
            <div class="bar-search">
                <div class="number-bar">ลำดับ</div>
                <div class="pass-bar">รหัส</div>
                <div class="name-bar">ชื่อรายการ</div>
            </div>
            <div class="data-search">
                <div class="number-search">1</div>
                <div class="code-search">AA-12320000</div>
                <div class="name-search">ระบบสร้างข้อมูลภายในสำนักงาน</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search">
                <div class="number-search">2</div>
                <div class="code-search">AA-12340000</div>
                <div class="name-search">ระบบจัดเก็บข้อมูลภายในสำนักงาน</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search">
                <div class="number-search">3</div>
                <div class="code-search">AA-12340002</div>
                <div class="name-search">ระบบรักษาความปลอดภัย</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search">
                <div class="number-search">4</div>
                <div class="code-search">ทดสอบ3</div>
                <div class="name-search">ระบบสร้างข้อมูลภายในสำนักงาน</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search">
                <div class="number-search">5</div>
                <div class="code-search">ทดสอบ4</div>
                <div class="name-search">ระบบสร้างข้อมูลภายในสำนักงาน</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search">
                <div class="number-search">6</div>
                <div class="code-search">ทดสอบ5</div>
                <div class="name-search">ระบบสร้างข้อมูลภายในสำนักงาน</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search">
                <div class="number-search">7</div>
                <div class="code-search">ทดสอบ6</div>
                <div class="name-search">ระบบสร้างข้อมูลภายในสำนักงาน</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search">
                <div class="number-search">8</div>
                <div class="code-search">ทดสอบ7</div>
                <div class="name-search">ระบบสร้างข้อมูลภายในสำนักงาน</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search">
                <div class="number-search">9</div>
                <div class="code-search">ทดสอบ8</div>
                <div class="name-search">ระบบสร้างข้อมูลภายในสำนักงาน</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search">
                <div class="number-search">10</div>
                <div class="code-search">ทดสอบ9</div>
                <div class="name-search">ระบบสร้างข้อมูลภายในสำนักงาน</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            </div>
            <div class="under-search">
                <div class="under-page">1 of 40 pages</div>
                <div class="under-page1">1</div>
                <div class="number-green">2</div>
                <div class="number-green">3</div>
                <div class="number-green-dot">...</div>
                <div class="number-green-40">40</div>
                <div class="arrow-container"><img src="picture/arrow-right.png" class="arrow"></div>
            </div>
            <div class="cancel-save-under">
                <div class="cancel sideaddCancelBtn">ยกเลิก</div>
                <div class="save sideaddSaveBtn">เพิ่ม</div>
            </div>
        </div>
    </div>
    <!--อัปโหลดไฟล์-->
    <div class="popup-container myPopupupload">
        <div class="popup-content-edit-sum-upload">
            <div style="width: 100%;">
                <div class="bold">อัปโหลดไฟล์</div>
                <div class="regular">ชื่อไฟล์และไฟล์ที่แนบมาทั้งหมด</div>
            </div>
            <div style="display: flex;">
                <div class="left-modal-upload">
                    <div class="upload-modal">อัปโหลดไฟล์</div>
                    <div class="bg-uplaod">
                        <div>
                            <div style="display: flex; justify-content: center;">
                                <div>
                                    <img src="picture/upload-gray.png" class="upload-gray">
                                </div>
                            </div>
                            <div class="upload-name">อัพโหลดไฟล์</div>
                        </div>
                    </div>
                    <div class="display-upload">(ขนาดไฟล์เอกสาร pdf, jpg, xls,
                        doc ไม่เกิน 40 MB / ไฟล์)</div>
                </div>
                <div class="right-modal-upload">
                    <div class="upload-modal">อัปโหลดไฟล์</div>
                    <div class="x-upload-16">
                        <div> <input type="text" placeholder="document3.pdf" class="code-edit-box-sum-edit-dis"></div>
                        <div class="check-x">
                            <img src="picture/check-green.png" class="upload-gray">
                            <img src="picture/x-icon.png" class="upload-gray">
                        </div>
                    </div>
                    <div class="x-upload-doc">
                        <div class="doc-upload">
                            <div class="doc-name">document1.pdf</div>
                            <div class="MB-upload">(32 MB)</div>
                        </div>
                        <div class="check-x">
                            <img src="picture/eye.png" class="upload-gray">
                            <img src="picture/pen.png" class="upload-gray">
                            <img src="picture/bin.png" class="upload-gray">
                        </div>
                    </div>
                    <div class="x-upload-doc">
                        <div class="doc-upload">
                            <div class="doc-name">image_sell01.jpg</div>
                            <div class="MB-upload">(5 MB)</div>
                        </div>
                        <div class="check-x">
                            <img src="picture/eye.png" class="upload-gray">
                            <img src="picture/pen.png" class="upload-gray">
                            <img src="picture/bin.png" class="upload-gray">
                        </div>
                    </div>
                    <div class="x-upload-doc">
                        <div class="doc-upload">
                            <div class="doc-name">document2.pdf</div>
                            <div class="MB-upload">(32 MB)</div>
                        </div>
                        <div class="check-x">
                            <img src="picture/eye.png" class="upload-gray">
                            <img src="picture/pen.png" class="upload-gray">
                            <img src="picture/bin.png" class="upload-gray">
                        </div>
                    </div>
                </div>
            </div>
            <div class="cancel-save-under">
                <div class="box-cancel-save">
                    <div class="cancel cancelPopupBtn">ยกเลิก</div>
                    <div class="save addAndHideBtn">อัปโหลด</div>
                </div>
            </div>
        </div>
    </div>

    <!--เลือกใบจ่ายมัดจำ-->
    <div class="popup-container myPopupdeposit">
        <div class="popup-content1-side-popup-search">
            <div class="head-bar-search">
                <div class="bold">ค้นหาใบจ่ายมัดจำ</div>
                <div><input type="search" class="search-pass-long" placeholder="ค้นหา"></div>
            </div>
            <div class="head-of-barsearch">
            <div class="bar-search-long">
                <div class="number-bar-long">ลำดับ</div>
                <div class="pass-bar-long">รหัส</div>
                <div class="name-bar-long">ชื่อรายการ</div>
                <div class="price-bar-long">ราคารวม</div>
                <div class="none-bar"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">1</div>
                <div class="code-search">AI-202501130001</div>
                <div class="name-search-long">Software พื้นที่จัดเก็บข้อมูล พร้อมติดตั้งและจัดอบรม</div>
                <div class="price-search-long">43,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">2</div>
                <div class="code-search">AI-202501120001</div>
                <div class="name-search-long">ทดสอบ1</div>
                <div class="price-search-long">1,111,111,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">3</div>
                <div class="code-search">AI-202501110001</div>
                <div class="name-search-long">ทดสอบ2</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">4</div>
                <div class="code-search">AI-202501100001</div>
                <div class="name-search-long">ทดสอบ3</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">5</div>
                <div class="code-search">AI-202501110002</div>
                <div class="name-search-long">ทดสอบ4</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">6</div>
                <div class="code-search">AI-202501090001</div>
                <div class="name-search-long">ทดสอบ5</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">7</div>
                <div class="code-search">AI-202501080001</div>
                <div class="name-search-long">ทดสอบ6</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">8</div>
                <div class="code-search">AI-202501070001</div>
                <div class="name-search-long">ทดสอบ7</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">9</div>
                <div class="code-search">AI-202501060001</div>
                <div class="name-search-long">ทดสอบ8</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            <div class="data-search-long">
                <div class="number-search">10</div>
                <div class="code-search">AI-202501050001</div>
                <div class="name-search-long">ทดสอบ9</div>
                <div class="price-search-long">11,100.00</div>
                <div class="eye-container"><img src="picture/eye.png" class="eye-search"></div>
            </div>
            </div>
            <div class="under-search-long">
                <div class="under-page">1 of 40 pages</div>
                <div class="under-page1">1</div>
                <div class="number-green">2</div>
                <div class="number-green">3</div>
                <div class="number-green-dot">...</div>
                <div class="number-green-40">40</div>
                <div class="arrow-container"><img src="picture/arrow-right.png" class="arrow"></div>
            </div>
            <div class="cancel-save-under">
                <div class="cancel cancelPopupBtn6">ยกเลิก</div>
                <div class="save addAndHideBtn6">เพิ่ม</div>
            </div>
        </div>
    </div>
    <!--เพิ่มรายการชำระ-->
    <div class="popup-container myPopupadddate">
        <div class="popup-content-adddate">
            <div style="width: 100%;">
                <div class="bold">เพิ่มรายการ</div>
                <div class="regular-nomarginbottom">รายละเอียด และจำนวน</div>
            </div>
            <div style="width: 100%;height: 65px;">
                <div class="model-all-name-add-modal">
                    <div class="unit-title-add-modal">เลขที่ใบเสร็จ</div>
                </div>
                <div><input type="text" class="input-add-modal-gray" placeholder="กรอกเลขที่ใบเสร็จ"></div>
            </div>
            <div style="width: 100%;height: 65px;">
                <div class="model-all-name-add-modal">
                    <div class="unit-title-add-modal">ชื่อรายการ</div>
                </div>
                <div><input type="text" class="input-add-modal-gray" placeholder="กรอกชื่อรายการ"></div>
            </div>
            <div class="date-box-modal">
                <div>
                    <div class="bold-16">วันที่</div>
                    <div><input type="date" class="date-modal"></div>
                </div>
                <div>
                    <div class="bold-16">วันที่รับชำระ</div>
                    <div><input type="date" class="date-modal"></div>
                </div>
                <div>
                    <div class="bold-16">วันที่เรียบร้อย</div>
                    <div><input type="date" class="date-modal"></div>
                </div>
            </div>
            <hr class="line-modal">
            <div class="price-all">
                <div class="price-unit">
                    <div class="model-all">
                        <div class="price-unit-title">ราคารวม</div>
                    </div>
                    <input type="number" placeholder="กรอกจำนวน" class="price-unit-class">
                </div>
            </div>
            <div class="cancel-save-under">
                <div class="box-cancel-save">
                    <div class="cancel cancelPopupBtn7">ยกเลิก</div>
                    <div class="save addAndHideBtn7">เพิ่ม</div>
                </div>
            </div>
        </div>
    </div>
    <!--eye-->
    <div class="popup-container myPopupview">
        <div class="popup-content-popup-view">
            <div style="width: 100%;">
                <div class="bold">รายการ</div>
            </div>
            <div style="width: 100%;">
                <div class="password-unit-price-unit">
                    <div class="price-all">
                        <div class="price-unit">
                            <div class="model-all">
                                <div class="password-title-view">รหัส</div>
                            </div>
                            <div class="password-box-title-box">AA-12340000</div>
                        </div>
                        <div class="price-unit">
                            <div class="model-all">
                                <div class="password-title-view">หน่วย</div>
                            </div>
                            <div class="password-box-title-box">รายการ</div>
                        </div>
                        <div class="price-unit">
                            <div class="model-all">
                                <div class="password-title-view">ราคา/หน่วย</div>
                            </div>
                            <div class="password-box-title-box">43,200.00</div>
                        </div>
                    </div>
                </div>
                <div style="width: 100%;height: 65px;">
                    <div class="model-all-name">
                        <div class="password-title-view">ชื่อรายการ</div>
                    </div>
                    <div class="password-box-title">ระบบจัดเก็บข้อมูลภายในสำนักงาน</div>
                </div>
                <div style="width: 100%;">
                    <div class="model-all-name">
                        <div class="password-title-view">รายละเอียด</div>
                    </div>
                    <div class="password-box-title-long">ปุ่มแตะบัตรสมาชิกให้ได้รับค่าแค่การแต่บัตร
                        ไม่รับค่าจากการพิมพ์(ห้ามพิมพ์) (ต้องนำเสนอ Solution
                        เนื่องจากตัวอ่านไม่สามารถตรวจจับแยกประเภท Hardware ได้ ต้องปรับเพื่อให้ได้ ผลลัพธ์ใกล้เคียง)
                        <br>-กรณี Pop up รับค่าเลขที่บัตร และให้ปิดตัวลงหลังจาก x วินาทีเพื่อไม่ให้ได้รับค่าจาก Keyboard
                        เพ่อป้องกัน โดยสามารถ comfig เวลารับของ pop upได้
                        <br>-สามารถ Config การล็อกเวลา ให้คีย์ภายในกี่วินาทีก่อน pop upในการรับปิดไป (ตั้ง Delay Time
                        out)
                    </div>
                </div>
                <hr class="line-modal">
                <div class="price-all">
                    <div class="price-unit">
                        <div class="model-all">
                            <div class="password-title-view">จำนวน</div>
                        </div>
                        <div class="password-box-title-box">1</div>
                    </div>
                    <div class="price-unit">
                        <div class="model-all">
                            <div class="password-title-view">ส่วนลด</div>
                        </div>
                        <div class="password-box-title-box">100.00</div>
                    </div>
                    <div class="price-unit">
                        <div class="model-all">
                            <div class="password-title-view">ราคารวม</div>
                        </div>
                        <div class="password-box-title-box">43,100.00</div>
                    </div>
                </div>
                <div class="cancel-save-under">
                    <div class="box-cancel-save">
                        <div class="save cancelPopupBtn3">กลับ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--eye-under-->
    <div class="popup-container myPopupviewdate">
        <div class="popup-content-modal-view">
            <div style="width: 100%;">
                <div class="bold">รายการ</div>
            </div>
            <div style="width: 100%;">
                <div class="password-unit-price-unit">
                    <div class="password-unit-price-unit-box-view">
                        <div class="password-view">
                            <div class="password-title-view">เลขที่ใบเสร็จ</div>
                            <div class="password-box">
                                <div class="password-box-title">11-1234000067</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="width: 100%;height: 65px;">
                    <div class="model-all-name">
                        <div class="password-title-view">ชื่อรายการ</div>
                    </div>
                    <div class="password-box-title">ระบบจัดเก็บข้อมูลภายในสำนักงาน</div>
                </div>
                <div class="date-box-modal-view">
                    <div class="date-box-view-modal">
                        <div class="password-title-view">วันที่</div>
                        <div class="password-box-title">30/01/2025</div>
                    </div>
                    <div class="date-box-view-modal">
                        <div class="password-title-view">วันที่รับชำระ</div>
                        <div class="password-box-title">30/01/2025</div>
                    </div>
                    <div class="date-box-view-modal">
                        <div class="password-title-view">วันที่เรียบร้อย</div>
                        <div class="password-box-title">30/01/2025</div>
                    </div>
                </div>
                <hr class="line-modal">
                <div class="price-unit">
                    <div class="model-all">
                        <div class="password-title-view">ราคา/หน่วย</div>
                    </div>
                    <div class="password-box-title-box">43,100.00</div>
                </div>
                <div class="cancel-save-under">
                    <div class="box-cancel-save">
                        <div class="save cancelPopupBtn8">กลับ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--pen-->
    <div class="popup-container myPopuppenview">
        <div class="popup-content3-add">
            <div style="width: 100%;">
                <div class="bold">แก้ไขรายการ</div>
                <div class="regular">รายละเอียด และจำนวน</div>
            </div>
            <div style="width: 100%;">
                <div class="password-unit-price-unit">
                    <div class="password-unit-price-unit-box">
                        <div class="password">
                            <div class="password-title">รหัส</div>
                            <div class="password-box">
                                <input type="text" class="code-edit-box" placeholder="AA-12340000">
                            </div>
                        </div>
                        <div class="unit">
                            <div class="model-all">
                                <div class="unit-title">หน่วย</div>
                                <div class="red-dot">*</div>
                            </div>
                            <select class="modal-select-black">
                                <option selected>รายการ</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                            </select>
                        </div>
                        <div class="price-unit">
                            <div class="model-all">
                                <div class="price-unit-title">ราคา/หน่วย</div>
                                <div class="red-dot">*</div>
                            </div>
                            <input type="number" placeholder="43,200.00" class="price-unit-class-black">
                        </div>
                    </div>
                </div>
                <div style="width: 100%;height: 65px;">
                    <div class="model-all-name-add-modal">
                        <div class="unit-title-add-modal">ชื่อรายการ</div>
                    </div>
                    <div><input type="text" class="input-add-name" placeholder="ระบบจัดเก็บข้อมูลภายในสำนักงาน"
                            disabled></div>
                </div>
                <div style="width: 100%;height: 146px;">
                    <div class="model-all-name">
                        <div class="unit-title-add-modal">รายละเอียด</div>
                        <div class="red-dot-name">*</div>
                    </div>
                    <textarea class="textarea-add-name-new"
                        placeholder="Software พื้นที่จัดเก็บข้อมูล พร้อมติดตั้งและจัดอบรม"></textarea>
                </div>
                <hr class="line-modal">
                <div class="price-all">
                    <div class="price-unit">
                        <div class="model-all">
                            <div class="price-unit-title">จำนวน</div>
                            <div class="red-dot">*</div>
                        </div>
                        <input type="number" placeholder="1" class="price-unit-class-number">
                    </div>
                    <div class="price-unit">
                        <div class="model-all">
                            <div class="price-unit-title">ส่วนลด</div>
                            <div class="red-dot">*</div>
                        </div>
                        <input type="number" placeholder="100.00" class="price-unit-class-black">
                    </div>
                    <div class="price-unit">
                        <div class="model-all">
                            <div class="price-unit-title">ราคารวม</div>
                        </div>
                        <input type="text" placeholder="43,100.00" class="price-unit-class-dis-black" disabled>
                    </div>
                </div>
                <div class="cancel-save-under">
                    <div class="box-cancel-save">
                        <div class="cancel cancelPopupBtn2">ยกเลิก</div>
                        <div class="save addAndHideBtn2">เพิ่ม</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--pen-under-->
    <div class="popup-container myPopupaddsum">
        <div class="popup-content-modal-pen-view">
            <div style="width: 100%;">
                <div class="bold">เพิ่มรายการ</div>
                <div class="regular-nomarginbottom">รายละเอียด และจำนวน</div>
            </div>
            <div style="width: 100%;height: 65px;">
                <div class="model-all-name-add-modal">
                    <div class="unit-title-add-modal">เลขที่ใบเสร็จ</div>
                </div>
                <div><input type="text" class="input-add-modal-black" placeholder="11-1234000067"></div>
            </div>
            <div style="width: 100%;height: 65px;">
                <div class="model-all-name-add-modal">
                    <div class="unit-title-add-modal">ชื่อรายการ</div>
                </div>
                <div><input type="text" class="input-add-modal-black" placeholder="ระบบจัดเก็บข้อมูลภายในสำนักงาน">
                </div>
            </div>
            <div class="date-box-modal">
                <div>
                    <div class="bold-16">วันที่</div>
                    <div><input type="date" class="date-modal"></div>
                </div>
                <div>
                    <div class="bold-16">วันที่รับชำระ</div>
                    <div><input type="date" class="date-modal"></div>
                </div>
                <div>
                    <div class="bold-16">วันที่เรียบร้อย</div>
                    <div><input type="date" class="date-modal"></div>
                </div>
            </div>
            <hr class="line-modal">
            <div class="price-all">
                <div class="price-unit">
                    <div class="model-all">
                        <div class="price-unit-title">ราคารวม</div>
                    </div>
                    <input type="number" placeholder="43,100.00" class="input-add-modal-black">
                </div>
            </div>
            <div class="cancel-save-under">
                <div class="box-cancel-save">
                    <div class="cancel cancelPopupBtn9">ยกเลิก</div>
                    <div class="save addAndHideBtn9">เพิ่ม</div>
                </div>
            </div>
        </div>
    </div>
    <!--editpen-->
    <div class="popup-container myPopupeditpen">
        <div class="popup-content-edit-sum">
            <div style="width: 100%;">
                <div class="bold">แก้ไขมูลค่าสุทธิ</div>
                <div class="regular">จำนวนเงิน</div>
            </div>
            <div>
                <div class="three-box-sum-modal">
                    <div>
                        <div class="bold-16">จำนวนเงิน</div>
                        <input type="number" placeholder="43,200.00" class="number-modal-three">
                    </div>
                    <div>
                        <div class="bold-16">ส่วนลด</div>
                        <input type="number" placeholder="100.00" class="number-modal-three">
                    </div>
                    <div>
                        <div class="bold-16">ยอดหลังหักส่วนลด</div>
                        <input type="number" placeholder="43,100.00" class="number-modal-three">
                    </div>
                </div>
                <hr class="line-modal">
                <div class="model-all-name-sum ">
                    <div class="regular-sum">จำนวนภาษี</div>
                </div>
                <div class="password-title">ภาษีมูลค่าเพิ่ม 7%</div>
                <div><input type="text" placeholder="3,017.00" class="code-edit-box-sum" disabled></div>
                <div class="checkbox-list-box-sum">
                    <div class="edit-sum">
                        <div class="checkbox-item">
                            <input type="checkbox" name="visits" id="edit-select-table-1" class="checkbox-table-input">
                        </div>
                        <label for="list-tax-data-modal1">รายการที่ 1: ระบบจัดเก็บข้อมูลภายในสำนักงาน</label>
                    </div>
                    <div><input type="text" placeholder="3,017.00" class="code-edit-box-sum-edit"></div>
                </div>
                <div class="checkbox-list-box-sum">
                    <div class="edit-sum">
                        <div class="checkbox-item">
                            <input type="checkbox" name="visits" id="edit-select-table-2" class="checkbox-table-input">
                        </div>
                        <label for="list-tax-data-modal2">รายการที่ 2: ทดสอบ1</label>
                    </div>
                    <div><input type="text" placeholder="0000.00" class="code-edit-box-sum-edit-dis"></div>
                </div>
                <div class="checkbox-list-box-sum">
                    <div class="edit-sum">
                        <div class="checkbox-item">
                            <input type="checkbox" name="visits" id="edit-select-table-3" class="checkbox-table-input">
                        </div>
                        <label for="list-tax-data-modal3">รายการที่ 3: ทดสอบ1</label>
                    </div>
                    <div><input type="text" placeholder="300.00" class="code-edit-box-sum-edit"></div>
                </div>
                <div class="checkbox-list-box-sum">
                    <div class="edit-sum">
                        <div class="checkbox-item">
                            <input type="checkbox" name="visits" id="edit-select-table-4" class="checkbox-table-input">
                        </div>
                        <label for="list-tax-data-modal4">รายการที่ 4: ทดสอบ1</label>
                    </div>
                    <div><input type="text" placeholder="0000.00" class="code-edit-box-sum-edit-dis"></div>
                </div>
                <div class="checkbox-list-box-sum">
                    <div class="edit-sum">
                        <div class="checkbox-item">
                            <input type="checkbox" name="visits" id="edit-select-table-5" class="checkbox-table-input">
                        </div>
                        <label for="list-tax-data-modal5">รายการที่ 5: ทดสอบ1</label>
                    </div>
                    <div><input type="text" placeholder="0000.00" class="code-edit-box-sum-edit-dis"></div>
                </div>
            </div>
            <div class="under-search-sum-edit">
                <div class="under-page">1 of 40 pages</div>
                <div class="under-page1">1</div>
                <div class="number-green">2</div>
                <div class="number-green">3</div>
                <div class="number-green-dot">...</div>
                <div class="number-green-40">40</div>
                <div class="arrow-container"><img src="picture/arrow-right.png" class="arrow"></div>
            </div>
            <div class="all-tax-under">
                <div class="left">
                    <div class="password-title">ภาษีหัก ณ ที่จ่าย</div>
                    <div><input type="text" placeholder="0000.00" class="code-edit-box-sum" disabled></div>
                </div>
                <div class="right">
                    <div class="password-title">%</div>
                    <div>
                        <select class="right-under">
                            <option>0.00</option>
                            <option>1.5</option>
                            <option>3.0</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="checkbox-list-box-sum">
                <div class="edit-sum">
                    <div class="checkbox-item">
                        <input type="checkbox" name="visits" id="edit-select-table-1" class="checkbox-table-input">
                    </div>
                    <label for="list-tax-data-6">รายการที่ 1: ระบบจัดเก็บข้อมูลภายในสำนักงาน</label>
                </div>
                <div><input type="text" placeholder="0000.00" class="code-edit-box-sum-edit-dis"></div>
            </div>
            <div class="sum-under-total">
                <div class="name-sum-total">จำนวนเงินรวมทั้งสิ้น</div>
                <div class="money-baht">
                    <div class="money-sum-total">46,117.00</div>
                    <div class="baht-sum-total">บาท</div>
                </div>
            </div>
            <div class="cancel-save-under">
                <div class="box-cancel-save">
                    <div class="cancel cancelPopupBtn5">ยกเลิก</div>
                    <div class="save cancelPopupBtn5">เพิ่ม</div>
                </div>
            </div>
        </div>
    </div>
    <script src="sidebarmain.js"></script>
    
    <script>
    // กำหนด endpoint สำหรับ API
    let endpoint = 'http://localhost:3000';
    
                    function setCancelState() {
    localStorage.setItem('hasData', 'false');
}
        $('[id="unit-items"]').on('change', function () {
    const selected = $(this).val();
    if (selected === '' || selected === '0.0') {
        $(this).css('color', 'var(--input-text-color400)');
    } else {
        $(this).css('color', 'black');
    }
});
                //Khoaw
        $(document).ready(function () {
            //  ซ่อนช่อง "ชื่อสาขา" ตอนโหลดหน้าเว็บ
            $(".branch-name").hide();
            // มื่อเลือก "สาขาย่อย" ให้แสดงช่องชื่อสาขา
            $("#small-office").on("change", function () {
                if ($(this).is(":checked")) {
                    $(".branch-name").show();
                }
            });
            // เมื่อเลือก "สำนักงานใหญ่" ให้ซ่อนช่องชื่อสาขา
            $("#big-office").on("change", function () {
                if ($(this).is(":checked")) {
                    $(".branch-name").hide();
                }
            });
        });
        $('input[name="fav_language_1"]').change(function () {
            if ($(this).val() === 'product') {
                $('.action-product').show();
                $('.action-serve').hide();
            } else {
                $('.action-product').hide();
                $('.action-serve').show();
            }
        });
        $(document).ready(function(){
    $('.input-data-day').each(function() {
    toggleColor($(this)); // ตรวจสอบตอนโหลดหน้าเว็บ
    });

    $('.input-data-day').on('change', function() {
    toggleColor($(this)); // ตรวจสอบเมื่อเปลี่ยนค่า
    });
    function toggleColor($input) {
    if ($input.val()) {
        $input.addClass('input-filled');
        } else {
        $input.removeClass('input-filled');
        }
    }
});
    $(document).ready(function () {
        $('#list-tax').on('change', function () {
            if ($(this).is(':checked')) {
                $('#unit-items').slideDown();  // แสดงแบบลื่น
            } else {
                $('#unit-items').slideUp();    // ซ่อนแบบลื่น
            }
        });
    });
    $('.one-button1').click(function () {
    $('.data-table-product').show();
    $('.data-table-serve').hide();
});
$('.one-button2').click(function () {
    $('.data-table-product').hide();
    $('.data-table-serve').show();
});
        //Khoaw
        //FEi
        $(document).ready(function () {
            // เก็บ Selector ของ jQuery ไว้ในตัวแปรเพื่อประสิทธิภาพและความอ่านง่าย
            const $radioButtons = $('input[name="pageSelection"]');
            const $pages = $('.page');
            /**
             * ซ่อนทุกหน้าและแสดงหน้าเว็บที่ตรงกับปุ่มวิทยุที่ถูกเลือก
             */
            const displaySelectedPage = () => {
                // รับค่า (ID) ของหน้าเว็บที่ถูกเลือกจากปุ่มวิทยุที่ถูกทำเครื่องหมาย
                const selectedPageId = $radioButtons.filter(':checked').val();
                // ลบ class 'active' ออกจากทุกหน้าเพื่อซ่อน
                $pages.removeClass('active');
                // เพิ่ม class 'active' ให้กับหน้าที่ถูกเลือกเพื่อแสดงผล
                // ใช้ template literal สำหรับ selector ID เพื่อความอ่านง่ายขึ้น
                $(`#${selectedPageId}`).addClass('active');
            };
            // ผูก Event Listener ประเภท 'change' เข้ากับปุ่มวิทยุทั้งหมด
            // เมื่อปุ่มวิทยุถูกเลือก ให้เรียกใช้ฟังก์ชัน displaySelectedPage
            $radioButtons.on('change', displaySelectedPage);
            // เรียกใช้ฟังก์ชันหนึ่งครั้งเมื่อโหลดหน้าเว็บครั้งแรก เพื่อแสดงหน้าเริ่มต้นที่ถูกเลือก
            displaySelectedPage();
        });
        $(document).ready(function () {
            //  ซ่อนช่อง "ชื่อสาขา" ตอนโหลดหน้าเว็บ
            $(".branch-name").hide();
            //  เมื่อเลือก "สาขาย่อย" ให้แสดงช่องชื่อสาขา
            $("#small-office").on("change", function () {
                if ($(this).is(":checked")) {
                    $(".branch-name").show();
                }
            });
            //  เมื่อเลือก "สำนักงานใหญ่" ให้ซ่อนช่องชื่อสาขา
            $("#big-office").on("change", function () {
                if ($(this).is(":checked")) {
                    $(".branch-name").hide();
                }
            });
        });
        $('input[name="fav_language_1"]').change(function () {
            if ($(this).val() === 'product') {
                $('.action-product').show();
                $('.action-serve').hide();
            } else {
                $('.action-product').hide();
                $('.action-serve').show();
            }
        });
        $('#toggleBox').on('change', function () {
            if ($(this).is(':checked')) {
                $('#myBox').addClass('show');
            } else {
                $('#myBox').removeClass('show');
            }
        });
        $('#toggle-btn-2').on('change', function () {
            if ($(this).is(':checked')) {
                $('#box-2').addClass('show');
            } else {
                $('#box-2').removeClass('show');
            }
        });
        const allDateInputs = document.querySelectorAll('.input-date-day1');
        allDateInputs.forEach(input => {
            // ตั้งค่าเริ่มต้น ถ้าเลือกวันไว้แล้ว
            if (input.value) {
                input.style.color = '#000';
            }
            // เมื่อผู้ใช้เลือกวัน
            input.addEventListener('input', function () {
                if (this.value) {
                    this.style.color = 'var(--text-color-black)'; // สีดำเข้ม
                } else {
                    this.style.color = 'var(--input-text-color400)'; // สีเดิม
                }
            });
        });
        const dropdowns = document.querySelectorAll('.dropdown, .dropdown-new,.dropdown-purchase');
        dropdowns.forEach(select => {
            // ตั้งค่าเริ่มต้นตอนโหลดหน้า
            if (select.value) {
                select.style.color = '#000';
            } else {
                select.style.color = 'var(--input-text-color400)';
            }
            // เมื่อมีการเปลี่ยนค่า
            select.addEventListener('change', function () {
                if (this.value) {
                    this.style.color = '#000'; // สีดำเข้ม
                } else {
                    this.style.color = 'var(--input-text-color400)'; // สีเดิม
                }
            });
        });
        $(document).ready(function () {
            const MAX_FILE_SIZE_MB = 40;
            const MAX_FILE_SIZE_BYTES = MAX_FILE_SIZE_MB * 1024 * 1024;
            const ALLOWED_FILE_TYPES = ['image/jpeg', 'application/pdf'];
            const $fileDetailDiv = $('.file-detail');
            const $afterSelectionMessage = $('#after-selection-message');
            const $uploadButtonText = $('#upload-button-text');
            const $uploadFileBox = $('.upload-file-box');
            const $fileNameDisplay = $('#file-name-display');
            const $fileSizeDisplay = $('#file-size-display');
            const $image1 = $('#image1'); // **อ้างอิงถึงรูปภาพที่ 1**
            const $image2 = $('#image2'); // **อ้างอิงถึงรูปภาพที่ 2**
            const $additionalImagesContainer = $('.additional-images'); // **อ้างอิงถึง container ของรูปภาพเพิ่มเติม**
            // ฟังก์ชันสำหรับแปลงขนาดไฟล์เป็นหน่วยที่อ่านง่าย
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            // ฟังก์ชันสำหรับซ่อนรูปภาพเพิ่มเติม
            function hideAdditionalImages() {
                $image1.hide();
                $image2.hide();
                $additionalImagesContainer.hide(); // ซ่อน container ด้วย
            }
            // ฟังก์ชันสำหรับแสดงรูปภาพเพิ่มเติม
            function showAdditionalImages() {
                $additionalImagesContainer.css('display', 'flex'); // ตั้ง display เป็น flex เพื่อให้รูปภาพเรียงกัน
                $image1.show();
                $image2.show();
            }
            // เมื่อคลิกที่ upload-file-box
            $uploadFileBox.on('click', function () {
                $('#upload-slip').click();
            });
            // เมื่อ input file มีการเปลี่ยนแปลง (มีการเลือกไฟล์)
            $('#upload-slip').on('change', function (event) {
                const file = event.target.files[0];
                // รีเซ็ตการแสดงผลทั้งหมดก่อน
                $fileNameDisplay.text('');
                $fileSizeDisplay.text('');
                $afterSelectionMessage.hide();
                $fileDetailDiv.show();
                $uploadFileBox.show();
                $uploadButtonText.text('อัพโหลดไฟล์');
                hideAdditionalImages(); // **ซ่อนรูปภาพเพิ่มเติมเสมอเมื่อรีเซ็ต**
                if (file) {
                    // 1. ตรวจสอบประเภทไฟล์
                    if (!ALLOWED_FILE_TYPES.includes(file.type)) {
                        alert('ไฟล์ที่เลือกไม่ใช่ JPG, PNG หรือ PDF โปรดเลือกไฟล์ใหม่');
                        $(this).val('');
                        return;
                    }
                    // 2. ตรวจสอบขนาดไฟล์
                    if (file.size > MAX_FILE_SIZE_BYTES) {
                        alert(`ขนาดไฟล์เกิน ${MAX_FILE_SIZE_MB} MB โปรดเลือกไฟล์ที่เล็กกว่า`);
                        $(this).val('');
                        return;
                    }
                    // ถ้าผ่านการตรวจสอบทั้งหมด
                    const fileSizeFormatted = formatFileSize(file.size);
                    $fileNameDisplay.text(`${file.name}`);
                    $fileSizeDisplay.text(`(${fileSizeFormatted})`);
                    $fileDetailDiv.hide();
                    $afterSelectionMessage.show();
                    $uploadFileBox.hide();
                    showAdditionalImages(); // **แสดงรูปภาพเพิ่มเติมเมื่อเลือกไฟล์สำเร็จ**
                } else {
                    // ถ้าไม่มีไฟล์ถูกเลือก (เช่น กดยกเลิก)
                    // ไม่ต้องทำอะไรเพิ่ม เพราะเราได้รีเซ็ตไปแล้วตั้งแต่ตอนต้น
                }
            });
        });
        // เลือก input ทั้งหมดที่มี class deposit-date-text และ deposit-time-text
        const inputs = document.querySelectorAll('.deposit-date-text, .deposit-time-text, .date-tax, .input-date-payment');
        inputs.forEach(input => {
            // เช็คตอนโหลดหน้า ถ้ามีค่าอยู่แล้วให้เป็นสีดำ
            if (input.value) {
                input.style.color = 'var(--Input-text-black)';
            }
            // ฟังชันเวลามีการกรอก/เลือกค่า
            input.addEventListener('input', () => {
                if (input.value) {
                    input.style.color = 'var(--Input-text-black)';  // สีดำเข้ม
                } else {
                    input.style.color = 'var(--input-text-gray-color200)';  // สีอ่อนตาม CSS เดิม
                }
            });
        });
        $(document).ready(function () {
            function updateColor($el) {
                if ($el.val()) {
                    $el.css({
                        'color': '#000',
                        '-webkit-text-fill-color': 'var(--Input-text-black)' // Safari, Chrome
                    });
                } else {
                    $el.css({
                        'color': 'var(--input-text-gray-color200)',
                        '-webkit-text-fill-color': 'var(--input-text-gray-color200)'
                    });
                }
            }
            // เรียกตอนโหลดหน้า
            $('.select-tax-dropdown').each(function () {
                updateColor($(this));
            });
            // ฟังชันเวลามีการเปลี่ยนค่า
            $('.select-tax-dropdown').on('change', function () {
                updateColor($(this));
            });
        });
        $(document).ready(function () {
            $('.dropdown-new1').each(function () {
                toggleColor($(this));
            });
            $('.dropdown-new1').on('change', function () {
                toggleColor($(this));
            });
            function toggleColor($el) {
                if ($el.val()) {
                    $el.addClass('active-color');
                } else {
                    $el.removeClass('active-color');
                }
            }
        });
        $(document).ready(function () {
            function updateColor($el) {
                if ($el.val()) {
                    $el.addClass('active-selected');
                } else {
                    $el.removeClass('active-selected');
                }
            }
            // เรียกตอนโหลดหน้า
            $('.Business-number').each(function () {
                updateColor($(this));
            });
            // เรียกตอนเปลี่ยนค่า
            $('.Business-number').on('change', function () {
                updateColor($(this));
            });
        });
        $(document).ready(function () {
            const MAX_FILE_SIZE_MB = 40;
            const MAX_FILE_SIZE_BYTES = MAX_FILE_SIZE_MB * 1024 * 1024;
            const ALLOWED_FILE_TYPES = ['image/jpeg', 'application/pdf'];
            // ตัวแปรที่ยังคงใช้ ID หรือ Class selectors ตามเดิม
            const $fileDetailDiv1 = $('.file-detail1');
            const $afterSelectionMessage1 = $('#after-selection-message1');
            const $uploadButtonText1 = $('#upload-button-text1');
            const $uploadFileBox1 = $('.upload-file-box1'); // ยังคงใช้ class selector
            const $fileNameDisplay1 = $('#file-name-display1');
            const $fileSizeDisplay1 = $('#file-size-display1');
            // **ใช้ Data Attributes สำหรับรูปภาพเพิ่มเติม**
            // เราสามารถอ้างอิงถึง container ด้วย class แล้วค่อยหา element ภายใน
            const $additionalImagesContainer1 = $('.additional-images'); // Class selector
            const $image11 = $additionalImagesContainer1.find('[data-image-type="eye11"]'); // หา img ที่มี data-image-type="eye"
            const $image21 = $additionalImagesContainer1.find('[data-image-type="bin21"]'); // หา img ที่มี data-image-type="bin"
            // ฟังก์ชันสำหรับแปลงขนาดไฟล์เป็นหน่วยที่อ่านง่าย
            function formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            // ฟังก์ชันสำหรับซ่อนรูปภาพเพิ่มเติม
            function hideAdditionalImages() {
                $image11.hide();
                $image21.hide();
                $additionalImagesContainer1.hide(); // ซ่อน container ด้วย
            }
            // ฟังก์ชันสำหรับแสดงรูปภาพเพิ่มเติม
            function showAdditionalImages() {
                $additionalImagesContainer1.css('display', 'flex'); // ตั้ง display เป็น flex เพื่อให้รูปภาพเรียงกัน
                $image11.show();
                $image21.show();
            }
            // เมื่อคลิกที่ upload-file-box
            $uploadFileBox1.on('click', function () {
                $('#upload-slip1').click();
            });
            // เมื่อ input file มีการเปลี่ยนแปลง (มีการเลือกไฟล์)
            $('#upload-slip1').on('change', function (event) {
                const file = event.target.files[0];
                // รีเซ็ตการแสดงผลทั้งหมดก่อน
                $fileNameDisplay1.text('');
                $fileSizeDisplay1.text('');
                $afterSelectionMessage1.hide();
                $fileDetailDiv1.show();
                $uploadFileBox1.show();
                $uploadButtonText1.text('อัพโหลดไฟล์');
                hideAdditionalImages(); // ซ่อนรูปภาพเพิ่มเติมเสมอเมื่อรีเซ็ต
                if (file) {
                    // 1. ตรวจสอบประเภทไฟล์
                    if (!ALLOWED_FILE_TYPES.includes(file.type)) {
                        alert('ไฟล์ที่เลือกไม่ใช่ JPG หรือ PDF โปรดเลือกไฟล์ใหม่');
                        $(this).val('');
                        return;
                    }
                    // 2. ตรวจสอบขนาดไฟล์
                    if (file.size > MAX_FILE_SIZE_BYTES) {
                        alert(`ขนาดไฟล์เกิน ${MAX_FILE_SIZE_MB} MB โปรดเลือกไฟล์ที่เล็กกว่า`);
                        $(this).val('');
                        return;
                    }
                    // ถ้าผ่านการตรวจสอบทั้งหมด
                    const fileSizeFormatted = formatFileSize(file.size);
                    $fileNameDisplay1.text(`${file.name}`);
                    $fileSizeDisplay1.text(`(${fileSizeFormatted})`);
                    $fileDetailDiv1.hide();
                    $afterSelectionMessage1.show();
                    $uploadFileBox1.hide();
                    showAdditionalImages(); // แสดงรูปภาพเพิ่มเติมเมื่อเลือกไฟล์สำเร็จ
                } else {
                    // ถ้าไม่มีไฟล์ถูกเลือก (เช่น กดยกเลิก)
                    // ไม่ต้องทำอะไรเพิ่ม เพราะเราได้รีเซ็ตไปแล้วตั้งแต่ตอนต้น
                }
            });
        });
        // เลือก input ทั้งหมดที่มี class deposit-date-text, deposit-time-text, date-tax, input-date-payment
        const inputs1 = document.querySelectorAll('.deposit-date-text, .deposit-time-text, .date-tax, .input-date-payment');
        inputs1.forEach(input => {
            // เช็คตอนโหลดหน้า ถ้ามีค่าอยู่แล้วให้เป็นสีดำ
            if (input.value) {
                input.style.color = 'var(--Input-text-black)';
            }
            // ฟังชันเวลามีการกรอก/เลือกค่า
            input.addEventListener('input', () => {
                if (input.value) {
                    input.style.color = 'var(--Input-text-black)'; // สีดำเข้ม
                } else {
                    input.style.color = 'var(--input-text-gray-color200)'; // สีอ่อนตาม CSS เดิม
                }
            });
        });
        $(document).ready(function () {
            function updateColor($el) {
                if ($el.val()) {
                    $el.css({
                        'color': '#000',
                        '-webkit-text-fill-color': 'var(--Input-text-black)' // Safari, Chrome
                    });
                } else {
                    $el.css({
                        'color': 'var(--input-text-gray-color200)',
                        '-webkit-text-fill-color': 'var(--input-text-gray-color200)'
                    });
                }
            }
            // เรียกตอนโหลดหน้า
            $('.select-tax-dropdown').each(function () {
                updateColor($(this));
            });
            // ฟังชันเวลามีการเปลี่ยนค่า
            $('.select-tax-dropdown').on('change', function () {
                updateColor($(this));
            });
        });
        $(document).ready(function () {
            $('.dropdown-new1').each(function () {
                toggleColor($(this));
            });
            $('.dropdown-new1').on('change', function () {
                toggleColor($(this));
            });
            function toggleColor($el) {
                if ($el.val()) {
                    $el.addClass('active-color');
                } else {
                    $el.removeClass('active-color');
                }
            }
        });
        $(document).ready(function () {
            function updateColor($el) {
                if ($el.val()) {
                    $el.addClass('active-selected');
                } else {
                    $el.removeClass('active-selected');
                }
            }
            // เรียกตอนโหลดหน้า
            $('.Business-number').each(function () {
                updateColor($(this));
            });
            // เรียกตอนเปลี่ยนค่า
            $('.Business-number').on('change', function () {
                updateColor($(this));
            });
        });
        
        
        //Fei
       $(document).ready(function () {
            const $openPopupBtnsUpload = $('.openPopupBtnupload');
            const $openPopupBtnsPenView = $('.openPopupBtnpenview');
            const $openPopupBtnsView = $('.openPopupBtnview');
            const $openPopupBtnsAdd = $('.openPopupBtnadd');
            const $openPopupBtnsEditPen = $('.openPopupBtneditpen');
            const $openPopupBtnsDeposit = $('.openPopupBtndeposit');
            const $openPopupBtnsAddDate = $('.openPopupBtnadddate');
            const $openPopupBtnsViewDate = $('.openPopupBtnviewdate');
            const $openPopupBtnsAddSum = $('.openPopupBtnaddsum');
            const $openPopupBtnsSalesOrder = $('.openPopupBtnsalesorder');
            const $openPopupBtnsAddDeposit = $('.openPopupBtndeopsit');
            const $openPopupBtnsSelectReceive = $('.openPopupBtnselectreceive');
            const $openPopupBtnsSelectBill = $('.openPopupBtnselectbill');
            const $openPopupBtnsTableSum = $('.openPopupBtntablesum');
            const $openPopupBtnsTableBillingSlip = $('.openPopupBtnTableBillingSlip');
            const $openPopupBtnsViewInvoice = $('.openPopupBtnViewInvoice');
            const $myPopupsUpload = $('.myPopupupload');
            const $myPopupsPenView = $('.myPopuppenview');
            const $myPopupsView = $('.myPopupview');
            const $myPopupsAdd = $('.myPopupadd');
            const $myPopupsEditPen = $('.myPopupeditpen');
            const $myPopupsDeposit = $('.myPopupdeposit');
            const $myPopupsAddDate = $('.myPopupadddate');
            const $myPopupsViewDate = $('.myPopupviewdate');
            const $myPopupsAddSum = $('.myPopupaddsum');
            const $myPopupsSalesOrder = $('.myPopupsalesorder');
            const $myPopupsAddDeposit = $('.myPopupadddeopsit');
            const $myPopupsSelectReceive = $('.myPopupselectreceive');
            const $myPopupsSelectBill = $('.myPopupselectbill');
            const $myPopupsTableSum = $('.myPopuptablesum');
            const $myPopupsTableBillingSlip = $('.myPopupsTableBillingSlip');
            const $myPopupsViewInvoice = $('.myPopupsviewinvoice');
            const $cancelPopupBtns = $('.cancelPopupBtn');
            const $addAndHideBtns = $('.addAndHideBtn');
            const $cancelPopupBtns2 = $('.cancelPopupBtn2');
            const $addAndHideBtns2 = $('.addAndHideBtn2');
            const $cancelPopupBtns3 = $('.cancelPopupBtn3');
            const $addAndHideBtns3 = $('.addAndHideBtn3');
            const $cancelPopupBtns4 = $('.cancelPopupBtn4');
            const $addAndHideBtns4 = $('.addAndHideBtn4');
            const $cancelPopupBtns5 = $('.cancelPopupBtn5');
            const $addAndHideBtns5 = $('.addAndHideBtn5');
            const $cancelPopupBtns6 = $('.cancelPopupBtn6');
            const $addAndHideBtns6 = $('.addAndHideBtn6');
            const $cancelPopupBtns7 = $('.cancelPopupBtn7');
            const $addAndHideBtns7 = $('.addAndHideBtn7');
            const $cancelPopupBtns8 = $('.cancelPopupBtn8');
            const $addAndHideBtns8 = $('.addAndHideBtn8');
            const $cancelPopupBtns9 = $('.cancelPopupBtn9');
            const $addAndHideBtns9 = $('.addAndHideBtn9');
            const $cancelPopupBtns10 = $('.cancelPopupBtn10');
            const $addAndHideBtns10 = $('.addAndHideBtn10');
            const $cancelPopupBtns11 = $('.cancelPopupBtn11');
            const $addAndHideBtns11 = $('.addAndHideBtn11');
            const $hidePopupAdd11 = $('.hidePopupadd11');
            const $cancelPopupBtns12 = $('.cancelPopupBtn12');
            const $addAndHideBtns12 = $('.addAndHideBtn12');
            const $hidePopupAdd12 = $('.hidePopupadd12');
            const $cancelPopupBtns13 = $('.cancelPopupBtn13');
            const $addAndHideBtns13 = $('.addAndHideBtn13');
            const $hidePopupAdd13 = $('.hidePopupadd13');
            const $cancelPopupBtns14 = $('.cancelPopupBtn14');
            const $addAndHideBtns14 = $('.addAndHideBtn14');
            const $hidePopupAdd14 = $('.hidePopupadd14');
            const $cancelPopupBtnsTableBillingSlip = $('.cancelPopupBtnTableBillingSlip');
            const $addAndHideBtnsTableBillingSlip = $('.addAndHideBtnTableBillingSlip');
            const $hidePopupAddTableBillingSlip = $('.hidePopupAddTableBillingSlip');
            const $cancelPopupBtnsViewInvoice = $('.cancelPopupBtnViewInvoice');
            const $addAndHideBtnsViewInvoice = $('.addAndHideBtnViewInvoice');
            const $hidePopupAddViewInvoice = $('.hidePopupAddViewInvoice');
            const $sideuploads = $('.sideupload');
            const $sideuploadCancelBtns = $('.sideuploadCancelBtn');
            const $sideuploadSaveBtns = $('.sideuploadSaveBtn');
            const $uploadFileBtns = $('.uploadFileBtn');
            const $openEditBtns = $('.openedit');
            const $sideadds = $('.sideadd');
            const $sideaddCancelBtns = $('.sideaddCancelBtn');
            const $sideaddSaveBtns = $('.sideaddSaveBtn');
            const $sidetables = $('.sidetable');
            const $sidetableCancelBtns = $('.sidetableCancelBtn');
            const $sidetableSaveBtns = $('.sidetableSaveBtn');
            const $newBtns1 = $('.newButton1');
            const $newBtns2 = $('.newButton2');
            const $newBtns3 = $('.newButton3');
            const $newBtns4 = $('.newButton4');
            const $newBtns5 = $('.newButton5');
            const searchItems = $('.data-search-long');
            const searchItems1 = $('.data-search');
            const TRANSITION_DURATION = 150;
            searchItems.each(function () {
                const item = $(this);
                item.on('click', function () {
                    searchItems.each(function () {
                        const currentItem = $(this);
                        currentItem.removeClass('selected');
                        const eyeImg = currentItem.find('.eye-search');
                        if (eyeImg.length) {
                            eyeImg.attr('src', 'picture/eye.png');
                        }
                    });
                    item.addClass('selected');
                    const eyeImgSelected = item.find('.eye-search');
                    if (eyeImgSelected.length) {
                        eyeImgSelected.attr('src', 'picture/eye-white.png');
                    }
                    console.log('Item clicked and selected:', item.attr('class'));
                });
            });
            searchItems1.each(function () {
                const item = $(this);
                item.on('click', function () {
                    searchItems1.each(function () {
                        const currentItem = $(this);
                        currentItem.removeClass('selected');
                        const eyeImg = currentItem.find('.eye-search');
                        if (eyeImg.length) {
                            eyeImg.attr('src', 'picture/eye.png');
                        }
                    });
                    item.addClass('selected');
                    const eyeImgSelected = item.find('.eye-search');
                    if (eyeImgSelected.length) {
                        eyeImgSelected.attr('src', 'picture/eye-white.png');
                    }
                    console.log('Item clicked and selected:', item.attr('class'));
                });
            });
            function showPopup($popupElement) {
                $popupElement.css('display', 'flex');
                setTimeout(() => {
                    $popupElement.addClass('show');
                    $('body').addClass('no-scroll');
                }, 10);
            }
            function hidePopup($popupElement) {
                $popupElement.removeClass('show');
                setTimeout(() => {
                    if (!$('.popup.show').length && !$('.sideupload.show').length && !$('.sideadd.show').length && !$('.sidetable.show').length) {
                        $('body').removeClass('no-scroll');
                    }
                    if (!$popupElement.hasClass('show')) {
                        $popupElement.css('display', 'none');
                    }
                }, TRANSITION_DURATION);
            }
            $('.right-under-long').on('change', function () {
                $(this).find('option').removeClass('text-black-select-modal ');
                $(this).find('option:selected').addClass('text-black-select-modal ');
            });
            let currentMainPopup = null;
            function hideSideuploadAndShowMainPopup() {
                hidePopup($sideuploads);
                setTimeout(() => {
                    if (currentMainPopup) {
                        showPopup(currentMainPopup);
                        currentMainPopup = null;
                    }
                }, TRANSITION_DURATION);
            }
            function hideSideaddAndShowMainPopup($mainPopupElement) {
                hidePopup($sideadds);
                setTimeout(() => {
                    showPopup($mainPopupElement);
                }, TRANSITION_DURATION);
            }
            function hideSidetableAndShowMainPopup($mainPopupElement) {
                hidePopup($sidetables);
                setTimeout(() => {
                    showPopup($mainPopupElement);
                }, TRANSITION_DURATION);
            }
            $openPopupBtnsUpload.on('click', function () { showPopup($myPopupsUpload); });
            $cancelPopupBtns.on('click', function () { hidePopup($myPopupsUpload); });
            $openPopupBtnsPenView.on('click', function () { showPopup($myPopupsPenView); });
            $cancelPopupBtns2.on('click', function () { hidePopup($myPopupsPenView); });
            $openPopupBtnsView.on('click', function () { showPopup($myPopupsView); });
            $cancelPopupBtns3.on('click', function () { hidePopup($myPopupsView); });
            $openPopupBtnsAdd.on('click', function () { showPopup($myPopupsAdd); });
            $cancelPopupBtns4.on('click', function () { hidePopup($myPopupsAdd); });
            $openPopupBtnsEditPen.on('click', function () { showPopup($myPopupsEditPen); });
            $cancelPopupBtns5.on('click', function () { hidePopup($myPopupsEditPen); });
            $openPopupBtnsDeposit.on('click', function () { showPopup($myPopupsDeposit); });
            $cancelPopupBtns6.on('click', function () { hidePopup($myPopupsDeposit); });
            $openPopupBtnsAddDate.on('click', function () { showPopup($myPopupsAddDate); });
            $cancelPopupBtns7.on('click', function () { hidePopup($myPopupsAddDate); });
            $openPopupBtnsViewDate.on('click', function () { showPopup($myPopupsViewDate); });
            $cancelPopupBtns8.on('click', function () { hidePopup($myPopupsViewDate); });
            $openPopupBtnsAddSum.on('click', function () { showPopup($myPopupsAddSum); });
            $cancelPopupBtns9.on('click', function () { hidePopup($myPopupsAddSum); });
            $openPopupBtnsSalesOrder.on('click', function () { showPopup($myPopupsSalesOrder); });
            $cancelPopupBtns10.on('click', function () { hidePopup($myPopupsSalesOrder); });
            $openPopupBtnsAddDeposit.on('click', function () { showPopup($myPopupsAddDeposit); });
            $cancelPopupBtns11.on('click', function () { hidePopup($myPopupsAddDeposit); });
            $openPopupBtnsSelectReceive.on('click', function () { showPopup($myPopupsSelectReceive); });
            $cancelPopupBtns12.on('click', function () { hidePopup($myPopupsSelectReceive); });
            $openPopupBtnsSelectBill.on('click', function () { showPopup($myPopupsSelectBill); });
            $cancelPopupBtns13.on('click', function () { hidePopup($myPopupsSelectBill); });
            $openPopupBtnsTableSum.on('click', function () { showPopup($myPopupsTableSum); });
            $cancelPopupBtns14.on('click', function () { hidePopup($myPopupsTableSum); });
            $openPopupBtnsTableBillingSlip.on('click', function () { showPopup($myPopupsTableBillingSlip); });
            $cancelPopupBtnsTableBillingSlip.on('click', function () { hidePopup($myPopupsTableBillingSlip); });
            $openPopupBtnsViewInvoice.on('click', function () { showPopup($myPopupsViewInvoice); });
            $cancelPopupBtnsViewInvoice.on('click', function () { hidePopup($myPopupsViewInvoice); });
            $addAndHideBtns.on('click', function () {
                hidePopup($myPopupsUpload);
                setTimeout(() => {
                    currentMainPopup = $myPopupsUpload;
                    showPopup($sideuploads);
                }, TRANSITION_DURATION);
            });
            $addAndHideBtns4.on('click', function () {
                hidePopup($myPopupsAdd);
                setTimeout(() => {
                    currentMainPopup = $myPopupsAdd;
                    showPopup($sideadds);
                }, TRANSITION_DURATION);
            });
            $addAndHideBtns11.on('click', function () {
                hidePopup($myPopupsAddDeposit);
                setTimeout(() => {
                    currentMainPopup = $myPopupsAddDeposit;
                    showPopup($sidetables);
                }, TRANSITION_DURATION);
            });
            $addAndHideBtns2.on('click', function () {
                hidePopup($myPopupsPenView);
            });
            $addAndHideBtns3.on('click', function () {
                hidePopup($myPopupsView);
            });
            $addAndHideBtns5.on('click', function () {
                hidePopup($myPopupsEditPen);
            });
            $addAndHideBtns6.on('click', function () {
                hidePopup($myPopupsDeposit);
            });
            $addAndHideBtns7.on('click', function () {
                hidePopup($myPopupsAddDate);
            });
            $addAndHideBtns8.on('click', function () {
                hidePopup($myPopupsViewDate);
            });
            $addAndHideBtns9.on('click', function () {
                hidePopup($myPopupsAddSum);
            });
            $addAndHideBtns10.on('click', function () {
                hidePopup($myPopupsSalesOrder);
            });
            $addAndHideBtns12.on('click', function () {
                hidePopup($myPopupsSelectReceive);
            });
            $addAndHideBtns13.on('click', function () {
                hidePopup($myPopupsSelectBill);
            });
            $addAndHideBtns14.on('click', function () {
                hidePopup($myPopupsTableSum);
            });
            $addAndHideBtnsTableBillingSlip.on('click', function () {
                hidePopup($myPopupsTableBillingSlip);
            });
            $addAndHideBtnsViewInvoice.on('click', function () {
                hidePopup($myPopupsViewInvoice);
            });
            $sideuploadCancelBtns.on('click', function () {
                hideSideuploadAndShowMainPopup();
            });
            $sideuploadSaveBtns.on('click', function () {
                hideSideuploadAndShowMainPopup();
            });
            $uploadFileBtns.on('click', function () {
                hideSideuploadAndShowMainPopup();
            });
            $openEditBtns.on('click', function () {
                hideSideuploadAndShowMainPopup();
            });
            $newBtns1.on('click', function () {
                hideSideuploadAndShowMainPopup();
            });
            $newBtns2.on('click', function () {
                hideSideuploadAndShowMainPopup();
            });
            $newBtns3.on('click', function () {
                hideSideuploadAndShowMainPopup();
            });
            $newBtns4.on('click', function () {
                hideSideuploadAndShowMainPopup();
            });
            $newBtns5.on('click', function () {
                hideSideuploadAndShowMainPopup();
            });
            $sideaddCancelBtns.on('click', function () {
                hideSideaddAndShowMainPopup($myPopupsAdd);
            });
            $sideaddSaveBtns.on('click', function () {
                hideSideaddAndShowMainPopup($myPopupsAdd);
            });
            if ($sidetables.length) {
                $sidetableCancelBtns.on('click', function () {
                    hideSidetableAndShowMainPopup(currentMainPopup);
                });
                $sidetableSaveBtns.on('click', function () {
                    hideSidetableAndShowMainPopup(currentMainPopup);
                });
            }
            $hidePopupAdd11.on('click', function () {
                hidePopup($myPopupsAddDeposit);
            });
            $hidePopupAdd12.on('click', function () {
                hidePopup($myPopupsSelectReceive);
            });
            $hidePopupAdd13.on('click', function () {
                hidePopup($myPopupsSelectBill);
            });
            $hidePopupAdd14.on('click', function () {
                hidePopup($myPopupsTableSum);
            });
            $hidePopupAddTableBillingSlip.on('click', function () {
                hidePopup($myPopupsTableBillingSlip);
            });
            $hidePopupAddViewInvoice.on('click', function () {
                hidePopup($myPopupsViewInvoice);
            });
        });
        $(document).ready(function () {
            $('.right-under-long').on('change', function () {
                $(this).css('color', 'var(--input-text-black)');
            });
        });
        $(document).ready(function () {
            $('.right-under').on('change', function () {
                $(this).css('color', 'var(--input-text-black)');
            });
        });
        $(document).ready(function () {
            $('.modal-select').on('change', function () {
                $(this).css('color', 'var(--input-text-black)');
            });
        });
        $(document).ready(function () {
    // ซ่อน input ตั้งแต่แรก
    $('.input-checkbox').hide();

    // เมื่อกด checkbox
    $('#list-tax-data-modal4').change(function () {
        if ($(this).is(':checked')) {
            $('.input-checkbox').show();
        } else {
            $('.input-checkbox').hide();
        }
    });
});
// $(document).ready(function () {
//         $('#saveAndGo').click(function () {
//         const customerCode = $('#customerCode').val();
//         const customerName = $('#customerName').val();
//         const customerAddress = $('#customerAddress').val(); 
//         const customerPhone = $('#customerPhone').val(); 
//         const customerHeadOffice = $('#customerHeadOffice').val(); 
//         const customerContactName = $('#customerContactName').val(); 
//         const customerGmail = $('#customerGmail').val(); 
//         const customerRefer = $('#customerRefer').val(); 
//         const customerBranchCode = $('#customerBranchCode').val(); 
//         const customerBranchName = $('#customerBranchName').val();
//         const customerStatus = $('#customerStatus').val();
//         const customerDay = $('#customerDay').val();
//         const customerPayment = $('#customerPayment').val();
//         const customerDueDate = $('#customerDueDate').val();
//         const customerDepartment = $('#customerDepartment').val();
//         const customerSalesperson = $('#customerSalesperson').val();
//         const customerPriceandTax = $('#customerPriceandTax').val();
//         const customerDepositReceiptNumber = $('#customerDepositReceiptNumber').val();
//         const customerCurrency = $('#customerCurrency').val();
//         const customerCredithistory = $('#customerCredithistory').val();
//         const customerEmployee = $('#customerEmployee').val();
//         const customerCounty = $('#customerCounty').val();
//         const customerExpress = $('#customerExpress').val();
//         const customerClaim = $('#customerClaim').val();
        
//         localStorage.setItem('customerCode', customerCode);
//         localStorage.setItem('customerName', customerName);
//         localStorage.setItem('customerAddress', customerAddress); 
//         localStorage.setItem('customerPhone', customerPhone); 
//         localStorage.setItem('customerHeadOffice', customerHeadOffice);
//         localStorage.setItem('customerContactName', customerContactName);
//         localStorage.setItem('customerGmail', customerGmail);
//         localStorage.setItem('customerRefer', customerRefer); 
//         localStorage.setItem('customerBranchCode', customerBranchCode);
//         localStorage.setItem('customerBranchName', customerBranchName);
//         localStorage.setItem('customerStatus', customerStatus);
//         localStorage.setItem('customerDay', customerDay);
//         localStorage.setItem('customerPayment', customerPayment);
//         localStorage.setItem('customerDueDate', customerDueDate);
//         localStorage.setItem('customerDepartment', customerDepartment);
//         localStorage.setItem('customerSalesperson', customerSalesperson);
//         localStorage.setItem('customerPriceandTax', customerPriceandTax);
//         localStorage.setItem('customerDepositReceiptNumber', customerDepositReceiptNumber);
//         localStorage.setItem('customerCurrency', customerCurrency);
//         localStorage.setItem('customerCredithistory', customerCredithistory);
//         localStorage.setItem('customerEmployee', customerEmployee);
//         localStorage.setItem('customerCounty', customerCounty);
//         localStorage.setItem('customerExpress', customerExpress);
//         localStorage.setItem('customerClaim', customerClaim);

//         window.location.href = 'create-deposit-receipt-preview.html';
//         });
//     });
 

        $(document).ready(function () {
    // เริ่มต้น: แสดง noDataSection ซ่อน myPopupview
    $('#noDataSection').show();
    $('#myPopupview').hide();

    // เมื่อกดปุ่มตกลง
    $('#btnConfirmAdd').on('click', function () {
        $('#noDataSection').hide();      // ซ่อนไม่มีข้อมูล
        $('#myPopupview').show();        // แสดงข้อมูลที่เพิ่มแล้ว
    });
});

$(document).ready(function () {
    // เมื่อคลิกปุ่มเพิ่มรายการ
    $('.openPopupBtnadd').on('click', function () {
        $('#popupAddItem').fadeIn(); // แสดง popup เท่านั้น
        $('.data-table-product').show(); // สำรอง: เผื่อเคยถูกซ่อน
    });

    // ปิด popup
    $('#closePopup').on('click', function () {
        $('#popupAddItem').fadeOut();
    });
});

$(document).ready(function () {
    const navEntries = performance.getEntriesByType("navigation");
    const isReload = navEntries.length > 0 && navEntries[0].type === "reload";

    if (isReload) {
        localStorage.clear(); // หรือ remove เฉพาะ key ที่เกี่ยวข้อง
    }
     const Department = localStorage.getItem('customerDepartment') || '';
$('#customerDepartment').val(Department);

// ถ้ามีค่าจริง แสดงว่าเลือกแล้ว → ให้เปลี่ยนสีเป็นดำ
if (Department) {
    $('#customerDepartment').css('color', 'black');
}
     const Day = localStorage.getItem('customerDay') || '';
$('#customerDay').val(Day);

// ถ้ามีค่าจริง แสดงว่าเลือกแล้ว → ให้เปลี่ยนสีเป็นดำ
if (Day) {
    $('#customerDay').css('color', 'black');
}
     const Dayfully = localStorage.getItem('customerPayment') || '';
$('#customerPayment').val(Dayfully);

// ถ้ามีค่าจริง แสดงว่าเลือกแล้ว → ให้เปลี่ยนสีเป็นดำ
if (Dayfully) {
    $('#customerPayment').css('color', 'black');
}
const Employee = localStorage.getItem('customerEmployee') || '';
$('#customerEmployee').val(Employee);

// ถ้ามีค่าจริง แสดงว่าเลือกแล้ว → ให้เปลี่ยนสีเป็นดำ
if (Employee) {
    $('#customerEmployee').css('color', 'black');
}
const County = localStorage.getItem('customerCounty') || '';
$('#customerCounty').val(County);

// ถ้ามีค่าจริง แสดงว่าเลือกแล้ว → ให้เปลี่ยนสีเป็นดำ
if (County) {
    $('#customerCounty').css('color', 'black');
}
const Express = localStorage.getItem('customerExpress') || '';
$('#customerExpress').val(Express);

// ถ้ามีค่าจริง แสดงว่าเลือกแล้ว → ให้เปลี่ยนสีเป็นดำ
if (Express) {
    $('#customerExpress').css('color', 'black');
}

// เพิ่ม event listener สำหรับ customerExpress dropdown
$('#customerExpress').on('change', function() {
    const selectedValue = $(this).val();
    console.log('customerExpress changed to:', selectedValue);
    localStorage.setItem('customerExpress', selectedValue);
    
    // เปลี่ยนสีเมื่อมีการเลือก
    if (selectedValue && selectedValue !== '') {
        $(this).css('color', 'black');
    } else {
        $(this).css('color', 'var(--input-text-color400)');
    }
});

// เพิ่ม event listener สำหรับ input fields อื่นๆ
$('#customerName').on('input', function() {
    const value = $(this).val();
    console.log('customerName changed to:', value);
    localStorage.setItem('customerName', value);
});

$('#customerCode').on('input', function() {
    const value = $(this).val();
    localStorage.setItem('customerCode', value);
});

$('#customerAddress').on('input', function() {
    const value = $(this).val();
    localStorage.setItem('customerAddress', value);
});

$('#customerPhone').on('input', function() {
    const value = $(this).val();
    localStorage.setItem('customerPhone', value);
});
const PriceandTax = localStorage.getItem('customerPriceandTax') || '';
$('#customerPriceandTax').val(PriceandTax);

// ถ้ามีค่าจริง แสดงว่าเลือกแล้ว → ให้เปลี่ยนสีเป็นดำ
if (PriceandTax) {
    $('#customerPriceandTax').css('color', 'black');
}
const Currency = localStorage.getItem('customerCurrency') || '';
$('#customerCurrency').val(Currency);

// ถ้ามีค่าจริง แสดงว่าเลือกแล้ว → ให้เปลี่ยนสีเป็นดำ
if (Currency) {
    $('#customerCurrency').css('color', 'black');
}
const rClaim = localStorage.getItem('customerClaim') || '';
$('#customerClaim').val(rClaim);

// ถ้ามีค่าจริง แสดงว่าเลือกแล้ว → ให้เปลี่ยนสีเป็นดำ
if (rClaim) {
    $('#customerClaim').css('color', 'black');
}
    $('#customerCode').val(localStorage.getItem('customerCode') || '');
    $('#customerName').val(localStorage.getItem('customerName') || '');
    $('#customerAddress').val(localStorage.getItem('customerAddress') || '');
    $('#customerPhone').val(localStorage.getItem('customerPhone') || '');
    $('#customerHeadOffice').val(localStorage.getItem('customerHeadOffice') || '');
    $('#customerContactName').val(localStorage.getItem('customerContactName') || '');
    $('#customerGmail').val(localStorage.getItem('customerGmail') || '');
    $('#customerRefer').val(localStorage.getItem('customerRefer') || '');
    $('#customerBranchCode').val(localStorage.getItem('customerBranchCode') || '');
    $('#customerBranchName').val(localStorage.getItem('customerBranchName') || '');
    $('#customerStatus').val(localStorage.getItem('customerStatus') || '');
    $('#customerDay').val(localStorage.getItem('customerDay') || '');
    $('#customerPayment').val(localStorage.getItem('customerPayment') || '');
    $('#customerDueDate').val(localStorage.getItem('customerDueDate') || '');
    $('#customerDepartment').val(localStorage.getItem('customerDepartment') || '');
    $('#customerSalesperson').val(localStorage.getItem('customerSalesperson') || '');
    $('#customerPriceandTax').val(localStorage.getItem('customerPriceandTax') || '');
    $('#customerDepositReceiptNumber').val(localStorage.getItem('customerDepositReceiptNumber') || '');
    $('#customerCurrency').val(localStorage.getItem('customerCurrency') || '');
    $('#customerCredithistory').val(localStorage.getItem('customerCredithistory') || '');
    $('#customerEmployee').val(localStorage.getItem('customerEmployee') || '');
    $('#customerCounty').val(localStorage.getItem('customerCounty') || '');
    $('#customerExpress').val(localStorage.getItem('customerExpress') || '');
    $('#customerClaim').val(localStorage.getItem('customerClaim') || '');


    // ตรวจสอบสถานะจาก localStorage เมื่อโหลดหน้า
    var showMyPopupview = localStorage.getItem('showMyPopupview');
    
    if (showMyPopupview === 'true') {
        // ถ้าเคยกดตกลงแล้ว แสดง myPopupview
        $('#noDataSection').hide();
        $('#myPopupview').show();
    } else {
        // เริ่มต้น: แสดง noDataSection ซ่อน myPopupview
        $('#noDataSection').show();
        $('#myPopupview').hide();
    }

    // เมื่อกดปุ่มตกลง (btnConfirmAdd)
    $('#btnConfirmAdd').on('click', function () {
        $('#noDataSection').hide();      // ซ่อนส่วนไม่มีข้อมูล
        $('#myPopupview').show();        // แสดงข้อมูลที่เพิ่มแล้ว
        $('#popupAddItem').fadeOut();    // ปิด popup หลังจากกดตกลง
        
        // เก็บสถานะใน localStorage
        localStorage.setItem('showMyPopupview', 'true');
    });

    // เมื่อคลิกปุ่มเพิ่มรายการ
    $('.openPopupBtnadd').on('click', function () {
        $('#popupAddItem').fadeIn(); // แสดง popup เท่านั้น
        $('.data-table-product').show(); // สำรอง: เผื่อเคยถูกซ่อน
    });

    // ปิด popup (กดปุ่มปิด)
    $('#closePopup').on('click', function () {
        $('#popupAddItem').fadeOut();
    });

    // ฟังก์ชันสำหรับรีเซ็ตกลับไปสถานะเริ่มต้น (สำหรับใช้ในกรณีพิเศษ)

    // ฟังก์ชันสำหรับรีเซ็ตกลับไปสถานะเริ่มต้น (สำหรับใช้ในกรณีพิเศษ)
    function resetToInitialState() {
        $('#noDataSection').show();
        $('#myPopupview').hide();
        $('#popupAddItem').fadeOut();
        localStorage.removeItem('showMyPopupview');
    }
});
$(document).ready(function () {
    // ✅ บันทึกว่าเคยมีการสร้าง/ใส่ข้อมูล
    localStorage.setItem('hasData', 'true');

    // ตัวอย่าง: เมื่อกรอกเสร็จแล้วกลับไปหน้าหลัก
    $('#btnBackToList').click(function () {
        window.location.href = 'certificate-sale-table.html';
    });
});
    

function handleSaveQuotation() {
    console.log('=== handleSaveQuotation called ===');
    testAllFormValues(); // ทดสอบค่าทั้งหมดก่อนเรียก create/update
    
    // ตรวจสอบสถานะเซิร์ฟเวอร์ก่อน
    checkServerStatus().then(serverAvailable => {
        console.log('Server available:', serverAvailable);
        
        if (window.editQuotationId) {
            // โหมดแก้ไข: อัปเดตใบเสนอราคาที่มีอยู่
            updateQuotation();
        } else {
            // โหมดสร้างใหม่: สร้างใบเสนอราคาใหม่
            createQuotation();
        }
    });
}

// ฟังก์ชันตรวจสอบสถานะเซิร์ฟเวอร์
function checkServerStatus() {
    return new Promise((resolve) => {
        $.ajax({
            url: `${endpoint}/health`,
            method: 'GET',
            timeout: 3000,
            success: function() {
                console.log('Server is available');
                resolve(true);
            },
            error: function() {
                console.warn('Server is not available');
                resolve(false);
            }
        });
    });
}

function createQuotation() {
    // Debug: ตรวจสอบค่าของ customerExpress และ customerName
    console.log('=== Debug Form Values ===');
    console.log('customerName element exists:', $('#customerName').length > 0);
    console.log('customerName value:', $('#customerName').val());
    console.log('customerCode value:', $('#customerCode').val());
    console.log('customerAddress value:', $('#customerAddress').val());
    console.log('customerPhone value:', $('#customerPhone').val());
    console.log('customerExpress element exists:', $('#customerExpress').length > 0);
    console.log('customerExpress value:', $('#customerExpress').val());
    console.log('customerExpress selected option text:', $('#customerExpress option:selected').text());
    
    // รวบรวมข้อมูลจากฟอร์มทั้งหมด
    const formData = {
        tx: $('#customerDepositReceiptNumber').val() || '', // ประเภทเอกสาร
        doc_status: '1', //สถานะเอกสาร (ตั้งค่าเริ่มต้น)
        status: '1', //สถานะเอกสาร (ตั้งค่าเริ่มต้น)
        com_id: '8', // รหัสบริษัท
        doc_name: 'ใบขายเชื่อ', // ชื่อเอกสาร
        cus_no: $('#customerCode').val() || '', //รหัสลูกค้า
        cus_name: $('#customerName').val() || '', //ชื่อลูกค้า
        cus_detail: JSON.stringify({ //รายละเอียดลูกค้า
            cus_no: $('#customerCode').val() || '', //รหัสลูกค้า
            cus_name: $('#customerName').val() || '', //ชื่อลูกค้า
            cus_addr: $('#customerAddress').val() || '', //ที่อยู่ลูกค้า
            cus_phone: $('#customerPhone').val() || '', //หมายเลขโทรศัพท์ลูกค้า
            cus_business_location: $('#customerHeadOffice').val() || '', //ที่ตั้งธุรกิจ
            cus_email: $('#customerGmail').val() || '', //อีเมลลูกค้า
            cus_contact_name: $('#customerContactName').val() || '', //ชื่อผู้ติดต่อ
            cus_refer: $('#customerRefer').val() || '', //อ้างอิง 
            cus_head_office: $('#big-office').is(':checked'), // true = สำนักงานใหญ่, false = สาขาย่อย
            cus_branch_no: $('#customerBranchCode').val() || '', //รหัสสาขาสำนักงานใหญ่
            cus_branch_name: $('#customerBranchName').val() || '', //ชื่อสาขาย่อย
            cus_visits: $('#list-tax-data-3').is(':checked'), //ลายเซ็นต์อิเล็กทรอนิกและตรายาง
            vat_no: $('#taxIdDropdown').val() || '', //เลขประจำตัวผู้เสียภาษี
            type_business: $('#businessTypeDropdown option:selected').text() || $('#businessTypeDropdown').val() || '', //ประเภทธุรกิจ/คำนำหน้า
            type_department: $('#departmentDropdown option:selected').text() || $('#departmentDropdown').val() || '', //แผนก
            tax_period: $('#taxPeriodDropdown option:selected').text() || $('#taxPeriodDropdown').val() || '', //ยื่นภาษีรวมในงวดที่
            tax_date: $('#taxDate').val() || '', //วันที่
            tax_invoice_no: $('#taxInvoiceNo').val() || '', //เลขใบกำกับภาษี
        }),
        payment_detail: JSON.stringify({
            payment_payee_name: $('#paymentPayeeName').val() || '',
            payment_amount: $('#paymentAmount').val() || '',
            payment_description: $('#paymentDescription').val() || '',
            payment_date: $('#paymentDate').val() || '',
            payment_time: $('#paymentTime').val() || '',
            deposit_deduction: $('#toggleBox').is(':checked'), //ตัดมัดจำเรียบร้อย
            bank_payment_amount: $('#bankPaymentAmount').val() || '', //จำนวนเงินรับชำระ (บาท) - ธนาคาร
            bank_name: $('#bankDropdown option:selected').text() || '', //ชื่อธนาคาร
            bank_account_number: $('#bankAccountNumber').val() || '', //เลขบัญชี
            bank_payment_date: $('#bankPaymentDate').val() || '', //วันที่ชำระ - ธนาคาร
            bank_payment_time: $('#bankPaymentTime').val() || '', //เวลา - ธนาคาร
            deposit_cut_date: $('#depositCutDate').val() || '', //วันที่ตัดเงินมัดจำ
            // ข้อมูลสรุปการชำระเงิน
            payment_summary: {
                total_with_tax: $('#cut-total').text().replace(/,/g, '') || '0', //มูลค่ารวมภาษี
                withholding_tax: $('#cut-vat').text().replace(/,/g, '') || '0', //ภาษีถูกหัก ณ ที่จ่าย
                remaining_amount: $('#cut-remaining').text().replace(/,/g, '') || '0', //ยอดคงค้าง
                paid_amount: $('#cut-paid').text().replace(/,/g, '') || '0', //ยอดที่ตัดไปแล้ว
                total_payment: $('#cut-total-sum').text().replace(/,/g, '') || '0' //ชำระรวมทั้งสิ้น
            },
            selected_payment_method: 'cash' //วิธีการชำระเงินที่เลือก (ตั้งค่าเริ่มต้นเป็นเงินสด)
        }),
        doc_date: $('#customerDay').val() || new Date().toISOString().split('T')[0], //วันที่เอกสาร
        due_date: $('#customerPayment').val() || '', //วันครบกำหนด
        sending_date: $('#customerSendingDate').val() || '', //วันที่ส่ง
        pickup_date: $('#customerPickupDate').val() || '', //วันที่รับ
        doc_detail: JSON.stringify({ //รายละเอียดเอกสาร
            doc_date: $('#customerDay').val() || new Date().toISOString().split('T')[0], //วันที่เอกสาร
            due_date: $('#customerPayment').val() || '', //วันครบกำหนด
            deadline: $('#customerDueDate').val() || '', // กำหนดยืน วัน
            department: $('#customerDepartment').val() || '', //แผนก
            salesman: $('#customerEmployee').val() || '', //พนักงานขาย
            sales_area: $('#customerCounty').val() || '', //เขตการขาย
            data_price_tax: $('#customerPriceandTax').val() || '', //ข้อมูลราคาและภาษี
            currency: $('#customerCurrency').val() || '', //สกุลเงิน
            shopping_method: (function() {
                const expressValue = $('#customerExpress').val();
                const expressText = $('#customerExpress option:selected').text();
                console.log('Express dropdown - Value:', expressValue, 'Text:', expressText);
                // ใช้ค่า value หรือ text ที่ไม่ใช่ placeholder
                return expressValue && expressValue !== '' && expressValue !== 'ขนส่งโดย' ? expressValue : '';
            })(), //วิธีการจัดส่ง
            sales_order_code: '', //รหัสใบสั่งขาย
            tax_invoice_number: $('#taxInvoiceNumber').val() || 'AI-202501120001', //เลขที่ใบกำกับ
            credit_history: $('#customerCredithistory').val() || '', //เครดิตจากประวัติชำระเงินของ
            tax_invoice: $('#toggle-btn-2').is(':checked'), //การออกใบกำกับภาษี
            tax_claim: $('#customerClaim').val() || '' //ภาระภาษีขาย
        }),
        product_detail: JSON.stringify({
            product_totalAllProducts: 0, //ราคาสุทธิทั้งหมด
            product_totalDiscount: 0, //ส่วนลดทั้งหมด
            product_totalAfterDiscount: 0, //ราคาสุทธิหลังหักส่วนลด
            product_totalTax: 0, //ภาษีมูลค่าเพิ่ม 7%
            product_withholdingTax: 0, //ภาษีถูกหัก ณ ที่จ่าย อันแรก
            product_withholdingTax2: 0, //ภาษีถูกหัก ณ ที่จ่าย อันที่สอง
            product_withholdingTax3: 0, //ภาษีถูกหัก ณ ที่จ่าย อันที่สาม
            product_totalAll: 0, //ราคารวมทั้งหมด
            // เพิ่มสถานะ checkbox
            vat7_checked: false, //สถานะ checkbox ภาษีมูลค่าเพิ่ม 7%
            withholding_tax_checked: false, //สถานะ checkbox ภาษีถูกหัก ณ ที่จ่าย
            withholding_tax_rate: '0.0%', //อัตราภาษีถูกหัก ณ ที่จ่าย อันแรก
            withholding_tax_rate2: '0.0%', //อัตราภาษีถูกหัก ณ ที่จ่าย อันที่สอง
            withholding_tax_rate3: '0.0%', //อัตราภาษีถูกหัก ณ ที่จ่าย อันที่สาม
            delete_vat: 0, //จำนวนที่ลบออกจากยอดรวม
            product_selection_status: [] //รายการสินค้า
        }),
        remark: $('#customerNoteunder').val() || '', //หมายเหตุ
        file: window.confirmedFiles && window.confirmedFiles.length > 0 ? JSON.stringify(window.confirmedFiles.map((file, index) => ({
            seq: index + 1,
            new_imge_name: file.name,
            size: file.size
        }))) : null,
        product_byuser: JSON.stringify([]), // ส่งข้อมูลสินค้าที่เพิ่มไว้ใน memory
        net_amount: '0' // จำนวนเงินรวมทั้งสิ้น
        
    };

    // Debug: แสดงข้อมูลไฟล์
    console.log('window.confirmedFiles exists:', !!window.confirmedFiles);
    console.log('confirmedFiles length:', window.confirmedFiles ? window.confirmedFiles.length : 0);
    console.log('confirmedFiles:', window.confirmedFiles);
    console.log('file data:', formData.file);
    
    // Debug: แสดงข้อมูล cus_name และ cus_detail
    console.log('=== Customer Data Debug ===');
    console.log('Main cus_name:', formData.cus_name);
    const cusDetailParsed = JSON.parse(formData.cus_detail);
    console.log('cus_detail.cus_name:', cusDetailParsed.cus_name);
    console.log('cus_detail.cus_no:', cusDetailParsed.cus_no);
    console.log('cus_detail.cus_addr:', cusDetailParsed.cus_addr);
    console.log('Complete cus_detail:', cusDetailParsed);
    
    // Debug: แสดงข้อมูล shopping_method
    console.log('=== Final shopping_method value ===');
    const parsedDocDetail = JSON.parse(formData.doc_detail);
    console.log('shopping_method in formData:', parsedDocDetail.shopping_method);
    console.log('Complete doc_detail:', parsedDocDetail);
    
    // // ตรวจสอบว่ามีไฟล์หรือไม่
    // if (!window.confirmedFiles || window.confirmedFiles.length === 0) {
    //     console.log('ไม่มีไฟล์ที่ยืนยัน - กำลังตั้งค่า file เป็น null');
    //     formData.file = null;
    // }

    // === Validation: ตรวจสอบข้อมูลที่จำเป็น ===
    
    // ตรวจสอบข้อมูลลูกค้าหลัก
    // if (!formData.cus_name || !formData.cus_no) {
    //     alert('กรุณากรอกชื่อลูกค้าและรหัสลูกค้า');
    //     return;
    // }
    
    // ตรวจสอบรายละเอียดลูกค้า
    const cusDetail = JSON.parse(formData.cus_detail);
    // if (!cusDetail.cus_addr || !cusDetail.cus_phone || !cusDetail.cus_email || !cusDetail.cus_business_location) {
    //     alert('กรุณากรอกที่อยู่ลูกค้า หมายเลขโทรศัพท์ อีเมล และที่ตั้งธุรกิจ');
    //     return;
    // }

    // ตรวจสอบรายละเอียดเอกสาร
    const docDetailForValidation = JSON.parse(formData.doc_detail);
    console.log('=== Validation Debug ===');
    console.log('shopping_method for validation:', docDetailForValidation.shopping_method);
    // if (!docDetailForValidation.doc_date || !docDetailForValidation.due_date || !docDetailForValidation.department || !docDetailForValidation.data_price_tax || !docDetailForValidation.currency) {
    //     alert('กรุณากรอกวันที่ วันครบกำหนด แผนก ราคาและภาษี และสกุลเงิน');
    //     return;
    // }

    // เพิ่มเวลาการเริ่มสร้างเอกสาร
    const creationStartTime = localStorage.getItem('newDocumentCreationStartTime');
    if (creationStartTime) {
        formData.creation_start_time = creationStartTime;
        // ลบข้อมูลจาก localStorage หลังจากใช้แล้ว
        localStorage.removeItem('newDocumentCreationStartTime');
    }

    // === API Call: ส่งข้อมูลไป API เพื่อสร้างใบเสนอราคา ===
    console.log('=== Sending data to API ===');
    console.log('Endpoint:', endpoint);
    console.log('FormData:', formData);
    
    $.ajax({
        url: `${endpoint}/api/add_quotation_bycom`,
        method: 'POST',
        contentType: 'application/json',
        timeout: 10000, // 10 วินาที
        data: JSON.stringify(formData),
        success: function(response) {
            console.log('API Response:', response);
            if (response.code === 201) {
                // บันทึกข้อมูลลง localStorage สำหรับใช้ในหน้าต่อไป
                localStorage.setItem('quotationData', JSON.stringify(formData));
                localStorage.setItem('quotationId', response.result?.id || '');

                // นำทางไปหน้า preview พร้อม ID ที่ได้จาก API
                window.location.href = `certificate-sale-preview.html?id=${response.result?.id || ''}`;
            } else {
                alert('เกิดข้อผิดพลาดในการสร้างใบเสนอราคา: ' + (response.message || 'Unknown error'));
            }
        },
        error: function(xhr, status, error) {
            console.error('API Error Details:');
            console.error('Status:', status);
            console.error('Error:', error);
            console.error('Response:', xhr.responseText);
            
            if (status === 'timeout') {
                alert('การเชื่อมต่อหมดเวลา กรุณาลองใหม่อีกครั้ง');
            } else if (xhr.status === 0) {
                // เซิร์ฟเวอร์ไม่ทำงาน - บันทึกข้อมูลใน localStorage และไปหน้า preview
                console.log('Server not available, saving to localStorage and proceeding...');
                localStorage.setItem('quotationData', JSON.stringify(formData));
                localStorage.setItem('quotationId', 'TEMP_' + Date.now());
                
                alert('เซิร์ฟเวอร์ไม่ทำงาน ข้อมูลจะถูกบันทึกชั่วคราว');
                window.location.href = `certificate-sale-preview.html`;
            } else {
                alert('เกิดข้อผิดพลาดในการเชื่อมต่อกับเซิร์ฟเวอร์: ' + error);
            }
        }
    });
}

// ฟังก์ชันทดสอบค่า customerExpress
function testCustomerExpress() {
    console.log('=== Test customerExpress Function ===');
    console.log('Element exists:', $('#customerExpress').length > 0);
    console.log('Current value:', $('#customerExpress').val());
    console.log('Selected option text:', $('#customerExpress option:selected').text());
    console.log('All available options:');
    $('#customerExpress option').each(function(index) {
        console.log(`  ${index}: value="${$(this).val()}" text="${$(this).text()}"`);
    });
    console.log('localStorage value:', localStorage.getItem('customerExpress'));
    return $('#customerExpress').val();
}

// ฟังก์ชันทดสอบค่าฟอร์มทั้งหมด
function testAllFormValues() {
    console.log('=== Test All Form Values ===');
    console.log('customerName:', $('#customerName').val());
    console.log('customerCode:', $('#customerCode').val());
    console.log('customerAddress:', $('#customerAddress').val());
    console.log('customerPhone:', $('#customerPhone').val());
    console.log('customerExpress:', $('#customerExpress').val());
    
    console.log('=== localStorage Values ===');
    console.log('customerName (localStorage):', localStorage.getItem('customerName'));
    console.log('customerCode (localStorage):', localStorage.getItem('customerCode'));
    console.log('customerAddress (localStorage):', localStorage.getItem('customerAddress'));
    console.log('customerPhone (localStorage):', localStorage.getItem('customerPhone'));
    console.log('customerExpress (localStorage):', localStorage.getItem('customerExpress'));
}

// เพิ่ม event listener สำหรับปุ่มบันทึก เพื่อทดสอบค่าก่อนส่ง
$(document).ready(function() {
    // ทดสอบหลังจากโหลดหน้าเว็บ 2 วินาที (เฉพาะเมื่อต้องการ debug)
    // setTimeout(testAllFormValues, 2000);
    
    // เพิ่ม event listener สำหรับปุ่ม save เฉพาะ
    $('#saveAndGo').on('click', function() {
        console.log('Save button clicked, testing all form values:');
        testAllFormValues();
    });
});




    </script>
</body>
</html>